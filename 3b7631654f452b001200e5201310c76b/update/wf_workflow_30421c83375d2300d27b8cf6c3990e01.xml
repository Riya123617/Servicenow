<?xml version="1.0" encoding="UTF-8"?><record_update table="wf_workflow_version">
    <wf_workflow_version action="INSERT_OR_UPDATE">
        <active>true</active>
        <activity_stages>{"activities":{"a725c26c97e8951027f8fbc71153af2f":"e725c26c97e8951027f8fbc71153af0a","e725c26c97e8951027f8fbc71153af34":"e725c26c97e8951027f8fbc71153af0a"},"ends":["6325c26c97e8951027f8fbc71153af22"],"subflows":[],"stages":{"e725c26c97e8951027f8fbc71153af0a":{"order":100,"duration":"1 Day","stageId":"e725c26c97e8951027f8fbc71153af0a","name":"Waiting for Approval","value":"waiting_for_approval"}}}</activity_stages>
        <after_business_rules>false</after_business_rules>
        <checked_out/>
        <checked_out_by/>
        <column_renderer display_value="Workflow-driven">a56213111b030100adca1e094f0713ac</column_renderer>
        <condition/>
        <condition_type/>
        <description>   </description>
        <expected_sequences>6b25c26c97e8951027f8fbc71153af11,eb25c26c97e8951027f8fbc71153af36,e725c26c97e8951027f8fbc71153af34,a725c26c97e8951027f8fbc71153af2f,6f25c26c97e8951027f8fbc71153af20,2725c26c97e8951027f8fbc71153af14,a325c26c97e8951027f8fbc71153af19,ab25c26c97e8951027f8fbc71153af33,6325c26c97e8951027f8fbc71153af15,2f25c26c97e8951027f8fbc71153af0d</expected_sequences>
        <expected_time/>
        <expected_time_type/>
        <full_sequences>6b25c26c97e8951027f8fbc71153af11,eb25c26c97e8951027f8fbc71153af36,e725c26c97e8951027f8fbc71153af34,a725c26c97e8951027f8fbc71153af2f,6f25c26c97e8951027f8fbc71153af20,6325c26c97e8951027f8fbc71153af22,2725c26c97e8951027f8fbc71153af14,2f25c26c97e8951027f8fbc71153af0b,a325c26c97e8951027f8fbc71153af19,2f25c26c97e8951027f8fbc71153af39,ab25c26c97e8951027f8fbc71153af33,6725c26c97e8951027f8fbc71153af18,eb25c26c97e8951027f8fbc71153af30,6325c26c97e8951027f8fbc71153af15,2f25c26c97e8951027f8fbc71153af0d,2b25c26c97e8951027f8fbc71153af31,6f25c26c97e8951027f8fbc71153af32,6b25c26c97e8951027f8fbc71153af12,e725c26c97e8951027f8fbc71153af1a,eb25c26c97e8951027f8fbc71153af1e,af25c26c97e8951027f8fbc71153af1d,2325c26c97e8951027f8fbc71153af20,2f25c26c97e8951027f8fbc71153af16</full_sequences>
        <journal/>
        <max_activity_count>5000</max_activity_count>
        <name>Nutanix - Blueprint Launch to CALM</name>
        <not_cacheable>false</not_cacheable>
        <on_cancel><![CDATA[// This script executes if the workflow is cancelled.// The global variable context_sys_id contains the sys_id of the cancelled workflow context.]]></on_cancel>
        <order>100</order>
        <pin_type>set_by_activity</pin_type>
        <published>true</published>
        <relative_duration display_value="2 business days by 4pm">3bf802c20a0a0b52008e2859cd8abcf2</relative_duration>
        <requires_ert>true</requires_ert>
        <run_multiple>false</run_multiple>
        <schedule/>
        <stage_field>stage</stage_field>
        <stage_order>computed</stage_order>
        <start display_value="Begin">6b25c26c97e8951027f8fbc71153af11</start>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>a325822c97e8951027f8fbc71153af20</sys_id>
        <sys_mod_count>5</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 13:07:00</sys_updated_on>
        <table>sc_req_item</table>
        <timezone/>
        <validated>true</validated>
        <workflow display_value="Nutanix - Blueprint Launch to CALM">30421c83375d2300d27b8cf6c3990e01</workflow>
    </wf_workflow_version>
    <wf_workflow action="INSERT_OR_UPDATE">
        <access>public</access>
        <description>   </description>
        <name>Nutanix - Blueprint Launch to CALM</name>
        <preview/>
        <sys_class_name>wf_workflow</sys_class_name>
        <sys_created_by>mumtaz.ansari</sys_created_by>
        <sys_created_on>2018-10-26 06:56:12</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_domain_path>/</sys_domain_path>
        <sys_id>30421c83375d2300d27b8cf6c3990e01</sys_id>
        <sys_mod_count>2</sys_mod_count>
        <sys_name>Nutanix - Blueprint Launch to CALM</sys_name>
        <sys_overrides/>
        <sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca">3b7631654f452b001200e5201310c76b</sys_package>
        <sys_policy/>
        <sys_scope display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</sys_scope>
        <sys_update_name>wf_workflow_30421c83375d2300d27b8cf6c3990e01</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2019-08-19 11:44:19</sys_updated_on>
        <table>sc_req_item</table>
        <template>false</template>
        <vars/>
    </wf_workflow>
    <wf_stage action="INSERT_OR_UPDATE">
        <name>Completed</name>
        <ola>1970-01-01 00:00:00</ola>
        <order>1100</order>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>6b25c26c97e8951027f8fbc71153af0a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value>complete</value>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
    </wf_stage>
    <wf_stage action="INSERT_OR_UPDATE">
        <name>Delivery</name>
        <ola>1970-01-03 00:00:00</ola>
        <order>140</order>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af0a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value>delivery</value>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
    </wf_stage>
    <wf_stage action="INSERT_OR_UPDATE">
        <name>Error</name>
        <ola>1970-01-01 00:00:00</ola>
        <order>100</order>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>e325c26c97e8951027f8fbc71153af0b</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value>error</value>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
    </wf_stage>
    <wf_stage action="INSERT_OR_UPDATE">
        <name>Fulfillment</name>
        <ola>1970-01-02 00:00:00</ola>
        <order>120</order>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>eb25c26c97e8951027f8fbc71153af0a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value>fulfillment</value>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
    </wf_stage>
    <wf_stage action="INSERT_OR_UPDATE">
        <name>Provisioning</name>
        <ola>1970-01-01 00:00:00</ola>
        <order>100</order>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>2725c26c97e8951027f8fbc71153af0a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value>provisioning</value>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
    </wf_stage>
    <wf_stage action="INSERT_OR_UPDATE">
        <name>Request Cancelled</name>
        <ola>1970-01-01 00:00:00</ola>
        <order>1000</order>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>6325c26c97e8951027f8fbc71153af0b</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value>Request Cancelled</value>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
    </wf_stage>
    <wf_stage action="INSERT_OR_UPDATE">
        <name>Request Approved</name>
        <ola>1970-01-01 00:00:00</ola>
        <order>90</order>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>6725c26c97e8951027f8fbc71153af0b</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value>request_approved</value>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
    </wf_stage>
    <wf_stage action="INSERT_OR_UPDATE">
        <name>Running</name>
        <ola>1970-01-01 00:00:00</ola>
        <order>100</order>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>ef25c26c97e8951027f8fbc71153af0a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value>running</value>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
    </wf_stage>
    <wf_stage action="INSERT_OR_UPDATE">
        <name>Waiting for Approval</name>
        <ola>1970-01-02 00:00:00</ola>
        <order>100</order>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>e725c26c97e8951027f8fbc71153af0a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value>waiting_for_approval</value>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
    </wf_stage>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Parallel Flow Launcher">35ef56111b211100adca1e094f071315</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>14</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name/>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>eb25c26c97e8951027f8fbc71153af36</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>25</x>
        <y>111</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=eb25c26c97e8951027f8fbc71153af36"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>400</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af38</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>25</value>
        <variable display_value="Max flows">e44186731b211100adca1e094f0713e0</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>900</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2725c26c97e8951027f8fbc71153af37</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// To access the set of completed workflows use the 'coordinator' variable.&#13;
//&#13;
//  var flow1Result = coordinator.getFlow(1).output;&#13;
//&#13;
</value>
        <variable display_value="Finished script">e47e76101b221100adca1e094f07134e</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>800</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2f25c26c97e8951027f8fbc71153af38</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>0</value>
        <variable display_value="Process finished">662e36101b221100adca1e094f0713a0</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6325c26c97e8951027f8fbc71153af37</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>1</value>
        <variable display_value="Advanced">7608dbca1b121100adca1e094f071355</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>700</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6b25c26c97e8951027f8fbc71153af38</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// To access the flow that completed, use the 'flow' variable.&#13;
//  &#13;
//     var flowOutput = flow.output;&#13;
//&#13;
</value>
        <variable display_value="Flow complete">006b9e591b221100adca1e094f0713a1</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>500</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af37</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>5</value>
        <variable display_value="Max simultaneous">7b81c6731b211100adca1e094f07136e</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>350</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a725c26c97e8951027f8fbc71153af38</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>1</value>
        <variable display_value="Count">428bf90eff1331009267ffffffffff80</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ab25c26c97e8951027f8fbc71153af37</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Inputs">713142e11b211100adca1e094f0713f0</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>600</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e325c26c97e8951027f8fbc71153af38</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>0</value>
        <variable display_value="Process flow complete">0a2b9e591b221100adca1e094f07130e</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e725c26c97e8951027f8fbc71153af37</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Workflow">d698838a1b121100adca1e094f071315</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>310</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ef25c26c97e8951027f8fbc71153af38</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// This script can be used to provide the workflows(s) to use for each sub-flow execution.  If a single workflow is&#13;
// to be used for every sub-flow then simply specify that name or ID here.  Otherwise, if separate workflows may&#13;
// be needed, then perhaps use a WorkflowCoordinator instance, which can be created or referenced here.  &#13;
//&#13;
// -- Use one of the methods below --&#13;
//&#13;
// METHOD 1:  Provide a name of a workflow&#13;
//&#13;
//      'MyWorkflow'&#13;
//&#13;
//&#13;
// METHOD 2:  Provide a sys_id of a workflow via a variable&#13;
//&#13;
//       myWorkflow;&#13;
//&#13;
//&#13;
// METHOD 3:  Create a WorkflowCoordinator with parameters for each flow to launch.  &#13;
//                     The first two sub-flows will be the AllocateServer workflow and the last will be the SetupLoadBalancer workflow&#13;
//&#13;
//&#13;
//        coordinator = new WorkflowCoordinator( {workflow:'AllocateServer'} );&#13;
//        coordinator.add( {u_serverName:'Tomcat1'} );&#13;
//        coordinator.add( {u_serverName:'Tomcat2'} );&#13;
//        coordinator.add( {u_portlist: ['8080','8081,'8082'] },  'SetupLoadBalancer' );&#13;
//&#13;
//        coordinator;         // THIS MUST BE THE LAST LINE&#13;
//&#13;
//&#13;
// METHOD 4:  Have a script include return a workflow name or ID or have it return a WorkflowCoordinator instance.&#13;
//&#13;
//         var siteType = 'BackupSite';&#13;
//         var numTomcats = 4;&#13;
//&#13;
//         SiteBuilder.build(siteType, numTomcats);     // LAST LINE!  This function returns a pre-configured WorkflowCoordinator&#13;
//&#13;
//workflow.scratchpad.user_sys_id = current.sys_created_by.sys_id + ''; gs.info(workflow.scratchpad.user_sys_id);&#13;
workflow.scratchpad.userID = gs.getUserID();&#13;
var logger = new Nutanix_Calm_Logger();&#13;
myWorkflow = gs.getProperty('x_nuta2_nutanix_ca.nutanix.workflow.user.approval');&#13;
logger.info("[wf_workflow] Parallel Flow Launcher for Approval :  "+myWorkflow);&#13;
myWorkflow;</value>
        <variable display_value="Workflow">22dea7431b211100adca1e094f0713f2</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ab25c26c97e8951027f8fbc71153af37</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Inputs">713142e11b211100adca1e094f0713f0</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6325c26c97e8951027f8fbc71153af37</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>1</value>
        <variable display_value="Advanced">7608dbca1b121100adca1e094f071355</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e725c26c97e8951027f8fbc71153af37</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Workflow">d698838a1b121100adca1e094f071315</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>310</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ef25c26c97e8951027f8fbc71153af38</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// This script can be used to provide the workflows(s) to use for each sub-flow execution.  If a single workflow is&#13;
// to be used for every sub-flow then simply specify that name or ID here.  Otherwise, if separate workflows may&#13;
// be needed, then perhaps use a WorkflowCoordinator instance, which can be created or referenced here.  &#13;
//&#13;
// -- Use one of the methods below --&#13;
//&#13;
// METHOD 1:  Provide a name of a workflow&#13;
//&#13;
//      'MyWorkflow'&#13;
//&#13;
//&#13;
// METHOD 2:  Provide a sys_id of a workflow via a variable&#13;
//&#13;
//       myWorkflow;&#13;
//&#13;
//&#13;
// METHOD 3:  Create a WorkflowCoordinator with parameters for each flow to launch.  &#13;
//                     The first two sub-flows will be the AllocateServer workflow and the last will be the SetupLoadBalancer workflow&#13;
//&#13;
//&#13;
//        coordinator = new WorkflowCoordinator( {workflow:'AllocateServer'} );&#13;
//        coordinator.add( {u_serverName:'Tomcat1'} );&#13;
//        coordinator.add( {u_serverName:'Tomcat2'} );&#13;
//        coordinator.add( {u_portlist: ['8080','8081,'8082'] },  'SetupLoadBalancer' );&#13;
//&#13;
//        coordinator;         // THIS MUST BE THE LAST LINE&#13;
//&#13;
//&#13;
// METHOD 4:  Have a script include return a workflow name or ID or have it return a WorkflowCoordinator instance.&#13;
//&#13;
//         var siteType = 'BackupSite';&#13;
//         var numTomcats = 4;&#13;
//&#13;
//         SiteBuilder.build(siteType, numTomcats);     // LAST LINE!  This function returns a pre-configured WorkflowCoordinator&#13;
//&#13;
//workflow.scratchpad.user_sys_id = current.sys_created_by.sys_id + ''; gs.info(workflow.scratchpad.user_sys_id);&#13;
workflow.scratchpad.userID = gs.getUserID();&#13;
var logger = new Nutanix_Calm_Logger();&#13;
myWorkflow = gs.getProperty('x_nuta2_nutanix_ca.nutanix.workflow.user.approval');&#13;
logger.info("[wf_workflow] Parallel Flow Launcher for Approval :  "+myWorkflow);&#13;
myWorkflow;</value>
        <variable display_value="Workflow">22dea7431b211100adca1e094f0713f2</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>350</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a725c26c97e8951027f8fbc71153af38</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>1</value>
        <variable display_value="Count">428bf90eff1331009267ffffffffff80</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>400</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af38</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>25</value>
        <variable display_value="Max flows">e44186731b211100adca1e094f0713e0</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>500</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af37</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>5</value>
        <variable display_value="Max simultaneous">7b81c6731b211100adca1e094f07136e</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>600</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e325c26c97e8951027f8fbc71153af38</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>0</value>
        <variable display_value="Process flow complete">0a2b9e591b221100adca1e094f07130e</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>700</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6b25c26c97e8951027f8fbc71153af38</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// To access the flow that completed, use the 'flow' variable.&#13;
//  &#13;
//     var flowOutput = flow.output;&#13;
//&#13;
</value>
        <variable display_value="Flow complete">006b9e591b221100adca1e094f0713a1</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>800</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2f25c26c97e8951027f8fbc71153af38</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>0</value>
        <variable display_value="Process finished">662e36101b221100adca1e094f0713a0</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af36</document_key>
        <order>900</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2725c26c97e8951027f8fbc71153af37</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// To access the set of completed workflows use the 'coordinator' variable.&#13;
//&#13;
//  var flow1Result = coordinator.getFlow(1).output;&#13;
//&#13;
</value>
        <variable display_value="Finished script">e47e76101b221100adca1e094f07134e</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="">eb25c26c97e8951027f8fbc71153af36</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6725c26c97e8951027f8fbc71153af39</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Begin">c7a5e32c0a0a0b3a002377c24ed8ea76</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>1</databus_lookup_id>
        <height/>
        <input/>
        <is_parent>false</is_parent>
        <name>Begin</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6b25c26c97e8951027f8fbc71153af11</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width>80</width>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>20</x>
        <y>20</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=6b25c26c97e8951027f8fbc71153af11"/>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Begin">6b25c26c97e8951027f8fbc71153af11</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a325c26c97e8951027f8fbc71153af12</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Run Script">db8c65aec0a8016501d00259bc7203a4</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>5</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Blueprint Launch</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2725c26c97e8951027f8fbc71153af14</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>421</x>
        <y>225</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=2725c26c97e8951027f8fbc71153af14"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2725c26c97e8951027f8fbc71153af14</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a725c26c97e8951027f8fbc71153af14</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>var utils = new Nutanix_Calm_Utils();&#13;
var logger = new Nutanix_Calm_Logger();&#13;
var reqUtils = new Nutanix_RequestUtil();&#13;
&#13;
var bp_uuid = current.cat_item.blueprint_name.uuid+'';&#13;
&#13;
workflow.scratchpad.bp_uuid = bp_uuid;&#13;
&#13;
var response = utils.makeCalmApiCall('GET', '/blueprints/'+bp_uuid, '');&#13;
&#13;
if(response.getStatusCode() == '200' || response.getStatusCode() == '201') {&#13;
&#13;
	//gs.error("BP UUID body recieved::"+response.getBody());&#13;
	var parseResp = JSON.parse(response.getBody());&#13;
	&#13;
	if(parseResp.metadata.owner_reference)&#13;
		delete parseResp.metadata.owner_reference;&#13;
	&#13;
	workflow.scratchpad.bp_name = parseResp.metadata.name;&#13;
&#13;
	var app_profile_uuid = ' ';&#13;
	var app_profile_name = current.variables.default_profile.getDisplayValue().trim();&#13;
&#13;
	for(var i = 0; i&lt;parseResp.spec.resources.app_profile_list.length; i++){&#13;
        var res_app_profile = (parseResp.spec.resources.app_profile_list[i].name).toString();&#13;
		gs.info("iii= "+i+""+res_app_profile+" "+app_profile_name);&#13;
		gs.info("iii= "+i+""+typeof(res_app_profile)+" "+typeof(app_profile_name));&#13;
		gs.info("iii=="+i+res_app_profile==app_profile_name);&#13;
		gs.info("iii==="+i+res_app_profile===app_profile_name);&#13;
		gs.info("iii localeCompare"+i+res_app_profile.localeCompare(app_profile_name));&#13;
		&#13;
		if(app_profile_name == res_app_profile){&#13;
			&#13;
			app_profile_uuid = parseResp.spec.resources.app_profile_list[i].uuid;&#13;
		}&#13;
&#13;
	}&#13;
	var project_name = ' ';&#13;
	var project_uuid = current.variables.default_project+'';&#13;
	var grProj = new GlideRecord('x_nuta2_nutanix_ca_nutanix_project');&#13;
	grProj.addQuery('uuid', project_uuid);&#13;
	grProj.query();&#13;
	if(grProj.next()){&#13;
		project_name = grProj.name;&#13;
	}&#13;
&#13;
	parseResp.metadata.project_reference = {&#13;
		"name":project_name+'',&#13;
		"kind":"project" ,&#13;
		"uuid":project_uuid+''&#13;
	};&#13;
&#13;
	/*&#13;
	var userSysID = gs.getUserID();&#13;
	var grUser = new GlideRecord('sys_user');&#13;
	grUser.addQuery('sys_id', userSysID);&#13;
	grUser.query();&#13;
	if(grUser.next()){&#13;
&#13;
		var name = grUser.user_name;&#13;
		var uuid = grUser.uuid;&#13;
&#13;
	}&#13;
&#13;
&#13;
	parseResp.metadata.owner_reference = {&#13;
		"name": "calm1@calsoftcalm.com",       //name+'',&#13;
		"kind":"user",&#13;
		"uuid":"b5883fe6-70d2-5136-b8e4-19aa6fb04326"          //uuid+''&#13;
	};&#13;
&#13;
	*/&#13;
&#13;
	// 	var profileJSON = parseResp.spec.resources.app_profile_list;&#13;
	// 	for(var i in profileJSON){&#13;
	// 		for(var j in profileJSON[i].variable_list){&#13;
	// 			if(profileJSON[i].variable_list[j].type == 'SECRET')&#13;
	// 				profileJSON[i].variable_list[j].attrs.is_secret_modified = true;&#13;
&#13;
	// 			profileJSON[i].variable_list[j].value = current.variables[profileJSON[i].variable_list[j].name+'']+'';&#13;
	// 		}&#13;
	// 	}&#13;
&#13;
	// 	parseResp.spec.resources.app_profile_list = profileJSON;&#13;
&#13;
&#13;
	var tmpbody = {&#13;
		"status": parseResp.status,&#13;
		"spec": parseResp.spec,&#13;
		"metadata" : parseResp.metadata&#13;
	};&#13;
&#13;
&#13;
	var body = {&#13;
		"api_version": parseResp.api_version,&#13;
		"metadata": parseResp.metadata,&#13;
		"spec" :{&#13;
			"app_profile_reference": {&#13;
				"kind": "app_profile",&#13;
				"uuid": app_profile_uuid+''&#13;
			},&#13;
			"application_name": current.variables.default_app_name+'',&#13;
			"description": parseResp.status.description,&#13;
			"resources": reqUtils.makeResourceBody(tmpbody, tmpbody.status.resources, current)&#13;
		}&#13;
	};&#13;
&#13;
	//reqUtils.makeResourceBody(tmpbody, tmpbody.status.resources, current.variables)&#13;
	//parseResp.spec.resources&#13;
	//gs.error("BP payload send::"+JSON.stringify(body));&#13;
	&#13;
	var bpLaunchedResp = utils.makeIntermediateApiCall('POST', '/blueprints/'+bp_uuid+'/launch', JSON.stringify(body), workflow.scratchpad.userID+'');&#13;
	workflow.scratchpad.bpLaunchedResp = bpLaunchedResp;&#13;
&#13;
} else {&#13;
	workflow.scratchpad.blueprint_launch_failed = response.getBody();	&#13;
	logger.error("[wf_workflow] Blueprint '"+parseResp.metadata.name+"' Launch failed by '"+workflow.scratchpad.user+"', Reason: "+response.getBody());&#13;
}&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</value>
        <variable display_value="Script">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2725c26c97e8951027f8fbc71153af14</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a725c26c97e8951027f8fbc71153af14</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>var utils = new Nutanix_Calm_Utils();&#13;
var logger = new Nutanix_Calm_Logger();&#13;
var reqUtils = new Nutanix_RequestUtil();&#13;
&#13;
var bp_uuid = current.cat_item.blueprint_name.uuid+'';&#13;
&#13;
workflow.scratchpad.bp_uuid = bp_uuid;&#13;
&#13;
var response = utils.makeCalmApiCall('GET', '/blueprints/'+bp_uuid, '');&#13;
&#13;
if(response.getStatusCode() == '200' || response.getStatusCode() == '201') {&#13;
&#13;
	//gs.error("BP UUID body recieved::"+response.getBody());&#13;
	var parseResp = JSON.parse(response.getBody());&#13;
	&#13;
	if(parseResp.metadata.owner_reference)&#13;
		delete parseResp.metadata.owner_reference;&#13;
	&#13;
	workflow.scratchpad.bp_name = parseResp.metadata.name;&#13;
&#13;
	var app_profile_uuid = ' ';&#13;
	var app_profile_name = current.variables.default_profile.getDisplayValue().trim();&#13;
&#13;
	for(var i = 0; i&lt;parseResp.spec.resources.app_profile_list.length; i++){&#13;
        var res_app_profile = (parseResp.spec.resources.app_profile_list[i].name).toString();&#13;
		gs.info("iii= "+i+""+res_app_profile+" "+app_profile_name);&#13;
		gs.info("iii= "+i+""+typeof(res_app_profile)+" "+typeof(app_profile_name));&#13;
		gs.info("iii=="+i+res_app_profile==app_profile_name);&#13;
		gs.info("iii==="+i+res_app_profile===app_profile_name);&#13;
		gs.info("iii localeCompare"+i+res_app_profile.localeCompare(app_profile_name));&#13;
		&#13;
		if(app_profile_name == res_app_profile){&#13;
			&#13;
			app_profile_uuid = parseResp.spec.resources.app_profile_list[i].uuid;&#13;
		}&#13;
&#13;
	}&#13;
	var project_name = ' ';&#13;
	var project_uuid = current.variables.default_project+'';&#13;
	var grProj = new GlideRecord('x_nuta2_nutanix_ca_nutanix_project');&#13;
	grProj.addQuery('uuid', project_uuid);&#13;
	grProj.query();&#13;
	if(grProj.next()){&#13;
		project_name = grProj.name;&#13;
	}&#13;
&#13;
	parseResp.metadata.project_reference = {&#13;
		"name":project_name+'',&#13;
		"kind":"project" ,&#13;
		"uuid":project_uuid+''&#13;
	};&#13;
&#13;
	/*&#13;
	var userSysID = gs.getUserID();&#13;
	var grUser = new GlideRecord('sys_user');&#13;
	grUser.addQuery('sys_id', userSysID);&#13;
	grUser.query();&#13;
	if(grUser.next()){&#13;
&#13;
		var name = grUser.user_name;&#13;
		var uuid = grUser.uuid;&#13;
&#13;
	}&#13;
&#13;
&#13;
	parseResp.metadata.owner_reference = {&#13;
		"name": "calm1@calsoftcalm.com",       //name+'',&#13;
		"kind":"user",&#13;
		"uuid":"b5883fe6-70d2-5136-b8e4-19aa6fb04326"          //uuid+''&#13;
	};&#13;
&#13;
	*/&#13;
&#13;
	// 	var profileJSON = parseResp.spec.resources.app_profile_list;&#13;
	// 	for(var i in profileJSON){&#13;
	// 		for(var j in profileJSON[i].variable_list){&#13;
	// 			if(profileJSON[i].variable_list[j].type == 'SECRET')&#13;
	// 				profileJSON[i].variable_list[j].attrs.is_secret_modified = true;&#13;
&#13;
	// 			profileJSON[i].variable_list[j].value = current.variables[profileJSON[i].variable_list[j].name+'']+'';&#13;
	// 		}&#13;
	// 	}&#13;
&#13;
	// 	parseResp.spec.resources.app_profile_list = profileJSON;&#13;
&#13;
&#13;
	var tmpbody = {&#13;
		"status": parseResp.status,&#13;
		"spec": parseResp.spec,&#13;
		"metadata" : parseResp.metadata&#13;
	};&#13;
&#13;
&#13;
	var body = {&#13;
		"api_version": parseResp.api_version,&#13;
		"metadata": parseResp.metadata,&#13;
		"spec" :{&#13;
			"app_profile_reference": {&#13;
				"kind": "app_profile",&#13;
				"uuid": app_profile_uuid+''&#13;
			},&#13;
			"application_name": current.variables.default_app_name+'',&#13;
			"description": parseResp.status.description,&#13;
			"resources": reqUtils.makeResourceBody(tmpbody, tmpbody.status.resources, current)&#13;
		}&#13;
	};&#13;
&#13;
	//reqUtils.makeResourceBody(tmpbody, tmpbody.status.resources, current.variables)&#13;
	//parseResp.spec.resources&#13;
	//gs.error("BP payload send::"+JSON.stringify(body));&#13;
	&#13;
	var bpLaunchedResp = utils.makeIntermediateApiCall('POST', '/blueprints/'+bp_uuid+'/launch', JSON.stringify(body), workflow.scratchpad.userID+'');&#13;
	workflow.scratchpad.bpLaunchedResp = bpLaunchedResp;&#13;
&#13;
} else {&#13;
	workflow.scratchpad.blueprint_launch_failed = response.getBody();	&#13;
	logger.error("[wf_workflow] Blueprint '"+parseResp.metadata.name+"' Launch failed by '"+workflow.scratchpad.user+"', Reason: "+response.getBody());&#13;
}&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</value>
        <variable display_value="Script">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Blueprint Launch">2725c26c97e8951027f8fbc71153af14</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ab25c26c97e8951027f8fbc71153af14</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Run Script">db8c65aec0a8016501d00259bc7203a4</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>12</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Blueprint Launch</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>eb25c26c97e8951027f8fbc71153af30</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>443</x>
        <y>611</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=eb25c26c97e8951027f8fbc71153af30"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af30</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af30</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>var utils = new Nutanix_Calm_Utils();&#13;
var logger = new Nutanix_Calm_Logger();&#13;
var reqUtils = new  Nutanix_RequestUtil();&#13;
var bp_uuid = workflow.scratchpad.bp_uuid;&#13;
&#13;
//gs.error("before launch :: "+bp_uuid);&#13;
logger.info("[wf_workflow] Marketplace_launch has been completed by '"+workflow.scratchpad.user+"', Blueprint uuid: "+bp_uuid+", Name: '"+workflow.scratchpad.bp_name+"'");&#13;
&#13;
var response = utils.makeCalmApiCall('GET', '/blueprints/'+bp_uuid, '');&#13;
if(response.getStatusCode() == '200' || response.getStatusCode() == '201') {&#13;
	var parseResp = JSON.parse(response.getBody());&#13;
	&#13;
	if(parseResp.metadata.owner_reference)&#13;
		delete parseResp.metadata.owner_reference;&#13;
		&#13;
	//gs.error("BP UUID body recieved:: "+response.getBody());&#13;
	&#13;
	var app_profile_uuid = ' ';&#13;
	var app_profile_name = (current.variables.default_profile.getDisplayValue()).trim();&#13;
	&#13;
	for(var i = 0; i&lt;parseResp.spec.resources.app_profile_list.length; i++){&#13;
		var res_app_profile = (parseResp.spec.resources.app_profile_list[i].name).toString();&#13;
				&#13;
		if(app_profile_name == res_app_profile){&#13;
			app_profile_uuid = parseResp.spec.resources.app_profile_list[i].uuid;&#13;
			//gs.error("app_profile_uuid and name MPI::"+app_profile_name+'::'+app_profile_uuid);&#13;
		}&#13;
		&#13;
	}&#13;
	&#13;
	var project_name = ' ';&#13;
	var project_uuid = current.variables.default_project+'';&#13;
	var grProj = new GlideRecord('x_nuta2_nutanix_ca_nutanix_project');&#13;
	grProj.addQuery('uuid', project_uuid);&#13;
	grProj.query();&#13;
	if(grProj.next()){&#13;
		project_name = grProj.name;&#13;
	}&#13;
	&#13;
	parseResp.metadata.project_reference = {&#13;
		"name":project_name+'',&#13;
		"kind":"project" ,&#13;
		"uuid":project_uuid+''&#13;
	};&#13;
	&#13;
	&#13;
	/*&#13;
	var userSysID = gs.getUserID();&#13;
	var grUser = new GlideRecord('sys_user');&#13;
	grUser.addQuery('sys_id', userSysID);&#13;
	grUser.query();&#13;
	if(grUser.next()){&#13;
		&#13;
		var name = grUser.user_name;&#13;
		var uuid = grUser.uuid;&#13;
		&#13;
	}&#13;
	&#13;
	&#13;
	parseResp.metadata.owner_reference = {&#13;
		"name":name+'',&#13;
		"kind":"user",&#13;
		"uuid":uuid+''&#13;
	};&#13;
	&#13;
	*/&#13;
	&#13;
	&#13;
	&#13;
	var tmpbody = {&#13;
		"status": parseResp.status,&#13;
		"spec": parseResp.spec,&#13;
		"metadata" : parseResp.metadata&#13;
	};&#13;
		&#13;
//	tmpbody = reqUtils.transformTempBody(tmpbody, JSON.parse(current.cat_item.getRefRecord().cloned_bp_json));&#13;
	&#13;
	var body =&#13;
	{&#13;
		"api_version":parseResp.api_version,&#13;
		"metadata":parseResp.metadata,&#13;
		"spec" :{&#13;
			"app_profile_reference": {&#13;
				"kind": "app_profile",&#13;
				"uuid": app_profile_uuid+''                       //current.variables.default_profile+''&#13;
			},&#13;
			&#13;
			"application_name": current.variables.default_app_name+'',&#13;
			"description":parseResp.status.description,&#13;
			"resources": reqUtils.makeResourceBody(tmpbody, tmpbody.status.resources, current)&#13;
			//reqUtils.makeResourceBody(tmpbody, tmpbody.status.resources, current)&#13;
			//parseResp.spec.resources&#13;
		}&#13;
	};&#13;
	&#13;
// 	gs.error(" ::: " + JSON.stringify(parseResp));&#13;
 	//gs.error("BP payload send::"+JSON.stringify(body));&#13;
	&#13;
	var bpLaunchedResp = utils.makeIntermediateApiCall('POST', '/blueprints/'+bp_uuid+'/launch', JSON.stringify(body), workflow.scratchpad.userID+'');&#13;
	&#13;
	workflow.scratchpad.bpLaunchedResp = bpLaunchedResp;&#13;
	&#13;
} else {&#13;
	workflow.scratchpad.blueprint_launch_failed = response.getBody();	&#13;
	logger.error("[wf_workflow] Blueprint '"+workflow.scratchpad.bp_name+"' Launch failed by '"+gs.getUserName()+"', Reason: "+response.getBody());&#13;
	&#13;
}&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</value>
        <variable display_value="Script">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af30</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af30</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>var utils = new Nutanix_Calm_Utils();&#13;
var logger = new Nutanix_Calm_Logger();&#13;
var reqUtils = new  Nutanix_RequestUtil();&#13;
var bp_uuid = workflow.scratchpad.bp_uuid;&#13;
&#13;
//gs.error("before launch :: "+bp_uuid);&#13;
logger.info("[wf_workflow] Marketplace_launch has been completed by '"+workflow.scratchpad.user+"', Blueprint uuid: "+bp_uuid+", Name: '"+workflow.scratchpad.bp_name+"'");&#13;
&#13;
var response = utils.makeCalmApiCall('GET', '/blueprints/'+bp_uuid, '');&#13;
if(response.getStatusCode() == '200' || response.getStatusCode() == '201') {&#13;
	var parseResp = JSON.parse(response.getBody());&#13;
	&#13;
	if(parseResp.metadata.owner_reference)&#13;
		delete parseResp.metadata.owner_reference;&#13;
		&#13;
	//gs.error("BP UUID body recieved:: "+response.getBody());&#13;
	&#13;
	var app_profile_uuid = ' ';&#13;
	var app_profile_name = (current.variables.default_profile.getDisplayValue()).trim();&#13;
	&#13;
	for(var i = 0; i&lt;parseResp.spec.resources.app_profile_list.length; i++){&#13;
		var res_app_profile = (parseResp.spec.resources.app_profile_list[i].name).toString();&#13;
				&#13;
		if(app_profile_name == res_app_profile){&#13;
			app_profile_uuid = parseResp.spec.resources.app_profile_list[i].uuid;&#13;
			//gs.error("app_profile_uuid and name MPI::"+app_profile_name+'::'+app_profile_uuid);&#13;
		}&#13;
		&#13;
	}&#13;
	&#13;
	var project_name = ' ';&#13;
	var project_uuid = current.variables.default_project+'';&#13;
	var grProj = new GlideRecord('x_nuta2_nutanix_ca_nutanix_project');&#13;
	grProj.addQuery('uuid', project_uuid);&#13;
	grProj.query();&#13;
	if(grProj.next()){&#13;
		project_name = grProj.name;&#13;
	}&#13;
	&#13;
	parseResp.metadata.project_reference = {&#13;
		"name":project_name+'',&#13;
		"kind":"project" ,&#13;
		"uuid":project_uuid+''&#13;
	};&#13;
	&#13;
	&#13;
	/*&#13;
	var userSysID = gs.getUserID();&#13;
	var grUser = new GlideRecord('sys_user');&#13;
	grUser.addQuery('sys_id', userSysID);&#13;
	grUser.query();&#13;
	if(grUser.next()){&#13;
		&#13;
		var name = grUser.user_name;&#13;
		var uuid = grUser.uuid;&#13;
		&#13;
	}&#13;
	&#13;
	&#13;
	parseResp.metadata.owner_reference = {&#13;
		"name":name+'',&#13;
		"kind":"user",&#13;
		"uuid":uuid+''&#13;
	};&#13;
	&#13;
	*/&#13;
	&#13;
	&#13;
	&#13;
	var tmpbody = {&#13;
		"status": parseResp.status,&#13;
		"spec": parseResp.spec,&#13;
		"metadata" : parseResp.metadata&#13;
	};&#13;
		&#13;
//	tmpbody = reqUtils.transformTempBody(tmpbody, JSON.parse(current.cat_item.getRefRecord().cloned_bp_json));&#13;
	&#13;
	var body =&#13;
	{&#13;
		"api_version":parseResp.api_version,&#13;
		"metadata":parseResp.metadata,&#13;
		"spec" :{&#13;
			"app_profile_reference": {&#13;
				"kind": "app_profile",&#13;
				"uuid": app_profile_uuid+''                       //current.variables.default_profile+''&#13;
			},&#13;
			&#13;
			"application_name": current.variables.default_app_name+'',&#13;
			"description":parseResp.status.description,&#13;
			"resources": reqUtils.makeResourceBody(tmpbody, tmpbody.status.resources, current)&#13;
			//reqUtils.makeResourceBody(tmpbody, tmpbody.status.resources, current)&#13;
			//parseResp.spec.resources&#13;
		}&#13;
	};&#13;
	&#13;
// 	gs.error(" ::: " + JSON.stringify(parseResp));&#13;
 	//gs.error("BP payload send::"+JSON.stringify(body));&#13;
	&#13;
	var bpLaunchedResp = utils.makeIntermediateApiCall('POST', '/blueprints/'+bp_uuid+'/launch', JSON.stringify(body), workflow.scratchpad.userID+'');&#13;
	&#13;
	workflow.scratchpad.bpLaunchedResp = bpLaunchedResp;&#13;
	&#13;
} else {&#13;
	workflow.scratchpad.blueprint_launch_failed = response.getBody();	&#13;
	logger.error("[wf_workflow] Blueprint '"+workflow.scratchpad.bp_name+"' Launch failed by '"+gs.getUserName()+"', Reason: "+response.getBody());&#13;
	&#13;
}&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</value>
        <variable display_value="Script">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Blueprint Launch">eb25c26c97e8951027f8fbc71153af30</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6325c26c97e8951027f8fbc71153af31</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="If">98f621ca0a0a0b5900f7c291f5e45a0e</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>19</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Check Application Pending status</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6b25c26c97e8951027f8fbc71153af12</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>1161</x>
        <y>147</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=6b25c26c97e8951027f8fbc71153af12"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6b25c26c97e8951027f8fbc71153af12</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6725c26c97e8951027f8fbc71153af13</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&#13;
//&#13;
// For example,&#13;
//&#13;
  answer = ifScript();&#13;
&#13;
  function ifScript() {&#13;
	  var logger = new Nutanix_Calm_Logger();	&#13;
	  &#13;
	  var appState = workflow.scratchpad.appState;&#13;
	  &#13;
     if (appState == 'PENDING' || appState == 'provisioning') {&#13;
		 logger.info("[wf_workflow]  Application '"+workflow.scratchpad.app_name+"' Provisioning is in progress state: "+appState);&#13;
		 &#13;
		 current.stage = 'provisioning';&#13;
		 &#13;
        return 'yes';&#13;
     }&#13;
     return 'no';&#13;
  }&#13;
</value>
        <variable display_value="Script">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6b25c26c97e8951027f8fbc71153af12</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a325c26c97e8951027f8fbc71153af13</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>1</value>
        <variable display_value="Advanced">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6b25c26c97e8951027f8fbc71153af12</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ef25c26c97e8951027f8fbc71153af12</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Condition">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6b25c26c97e8951027f8fbc71153af12</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ef25c26c97e8951027f8fbc71153af12</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Condition">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6b25c26c97e8951027f8fbc71153af12</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a325c26c97e8951027f8fbc71153af13</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>1</value>
        <variable display_value="Advanced">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6b25c26c97e8951027f8fbc71153af12</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6725c26c97e8951027f8fbc71153af13</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&#13;
//&#13;
// For example,&#13;
//&#13;
  answer = ifScript();&#13;
&#13;
  function ifScript() {&#13;
	  var logger = new Nutanix_Calm_Logger();	&#13;
	  &#13;
	  var appState = workflow.scratchpad.appState;&#13;
	  &#13;
     if (appState == 'PENDING' || appState == 'provisioning') {&#13;
		 logger.info("[wf_workflow]  Application '"+workflow.scratchpad.app_name+"' Provisioning is in progress state: "+appState);&#13;
		 &#13;
		 current.stage = 'provisioning';&#13;
		 &#13;
        return 'yes';&#13;
     }&#13;
     return 'no';&#13;
  }&#13;
</value>
        <variable display_value="Script">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Check Application Pending status">6b25c26c97e8951027f8fbc71153af12</activity>
        <condition>activity.result == 'no'</condition>
        <condition_default display_value="No">c1eff6430a0a0b59000f955abe842c94</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>false</is_positive>
        <name>No</name>
        <order>200</order>
        <short_description/>
        <skip_during_generate>true</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>eb25c26c97e8951027f8fbc71153af13</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Check Application Pending status">6b25c26c97e8951027f8fbc71153af12</activity>
        <condition>activity.result == 'yes'</condition>
        <condition_default display_value="Yes">c1ef63200a0a0b59005ef89bae78feb7</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Yes</name>
        <order>100</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af13</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="If">98f621ca0a0a0b5900f7c291f5e45a0e</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>21</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Check Application status running/error</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>eb25c26c97e8951027f8fbc71153af1e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>1201</x>
        <y>402</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=eb25c26c97e8951027f8fbc71153af1e"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af1e</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af1f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>1</value>
        <variable display_value="Advanced">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af1e</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af1e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Condition">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af1e</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e325c26c97e8951027f8fbc71153af1f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&#13;
//&#13;
// For example,&#13;
//&#13;
answer = ifScript();&#13;
&#13;
function ifScript() {&#13;
	var logger = new Nutanix_Calm_Logger();&#13;
	&#13;
	var appState = workflow.scratchpad.appState;&#13;
	&#13;
	if (appState == 'error') {&#13;
		logger.info("[wf_workflow]  Application '"+workflow.scratchpad.app_name+"' is into '"+appState+"' state");&#13;
		&#13;
		current.state = 4; //make Requested Item's state as 'Closed Incomplete'&#13;
		current.stage = 'error';&#13;
		&#13;
		return 'yes';&#13;
	} else {&#13;
		logger.info("[wf_workflow]  Application '"+workflow.scratchpad.app_name+"' is into '"+appState+"' state");&#13;
		current.state = 3; //make Requested Item's state as 'Closed Complete'&#13;
		current.stage = 'complete';&#13;
		&#13;
		return 'no';&#13;
	}&#13;
}&#13;
</value>
        <variable display_value="Script">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af1e</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af1e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Condition">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af1e</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af1f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>1</value>
        <variable display_value="Advanced">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb25c26c97e8951027f8fbc71153af1e</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e325c26c97e8951027f8fbc71153af1f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&#13;
//&#13;
// For example,&#13;
//&#13;
answer = ifScript();&#13;
&#13;
function ifScript() {&#13;
	var logger = new Nutanix_Calm_Logger();&#13;
	&#13;
	var appState = workflow.scratchpad.appState;&#13;
	&#13;
	if (appState == 'error') {&#13;
		logger.info("[wf_workflow]  Application '"+workflow.scratchpad.app_name+"' is into '"+appState+"' state");&#13;
		&#13;
		current.state = 4; //make Requested Item's state as 'Closed Incomplete'&#13;
		current.stage = 'error';&#13;
		&#13;
		return 'yes';&#13;
	} else {&#13;
		logger.info("[wf_workflow]  Application '"+workflow.scratchpad.app_name+"' is into '"+appState+"' state");&#13;
		current.state = 3; //make Requested Item's state as 'Closed Complete'&#13;
		current.stage = 'complete';&#13;
		&#13;
		return 'no';&#13;
	}&#13;
}&#13;
</value>
        <variable display_value="Script">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Check Application status running/error">eb25c26c97e8951027f8fbc71153af1e</activity>
        <condition>activity.result == 'no'</condition>
        <condition_default display_value="No">c1eff6430a0a0b59000f955abe842c94</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>false</is_positive>
        <name>No</name>
        <order>200</order>
        <short_description/>
        <skip_during_generate>true</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6b25c26c97e8951027f8fbc71153af1f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Check Application status running/error">eb25c26c97e8951027f8fbc71153af1e</activity>
        <condition>activity.result == 'yes'</condition>
        <condition_default display_value="Yes">c1ef63200a0a0b59005ef89bae78feb7</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Yes</name>
        <order>100</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e725c26c97e8951027f8fbc71153af1f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="If">98f621ca0a0a0b5900f7c291f5e45a0e</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>25</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Check Approval Status</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage display_value="Waiting for Approval">e725c26c97e8951027f8fbc71153af0a</stage>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a725c26c97e8951027f8fbc71153af2f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>29</x>
        <y>436</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=a725c26c97e8951027f8fbc71153af2f"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a725c26c97e8951027f8fbc71153af2f</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2b25c26c97e8951027f8fbc71153af2f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>approval=approved^EQ</value>
        <variable display_value="Condition">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a725c26c97e8951027f8fbc71153af2f</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>af25c26c97e8951027f8fbc71153af2f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&#13;
//&#13;
// For example,&#13;
//&#13;
//   answer = ifScript();&#13;
//&#13;
//   function ifScript() {&#13;
//      if (condition is true) {&#13;
//         return 'yes';&#13;
//      }&#13;
//      return 'no';&#13;
//   }&#13;
</value>
        <variable display_value="Script">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a725c26c97e8951027f8fbc71153af2f</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>eb25c26c97e8951027f8fbc71153af2f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>0</value>
        <variable display_value="Advanced">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a725c26c97e8951027f8fbc71153af2f</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2b25c26c97e8951027f8fbc71153af2f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>approval=approved^EQ</value>
        <variable display_value="Condition">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a725c26c97e8951027f8fbc71153af2f</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>eb25c26c97e8951027f8fbc71153af2f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>0</value>
        <variable display_value="Advanced">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a725c26c97e8951027f8fbc71153af2f</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>af25c26c97e8951027f8fbc71153af2f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&#13;
//&#13;
// For example,&#13;
//&#13;
//   answer = ifScript();&#13;
//&#13;
//   function ifScript() {&#13;
//      if (condition is true) {&#13;
//         return 'yes';&#13;
//      }&#13;
//      return 'no';&#13;
//   }&#13;
</value>
        <variable display_value="Script">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Check Approval Status">a725c26c97e8951027f8fbc71153af2f</activity>
        <condition>activity.result == 'no'</condition>
        <condition_default display_value="No">c1eff6430a0a0b59000f955abe842c94</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>false</is_positive>
        <name>No</name>
        <order>200</order>
        <short_description/>
        <skip_during_generate>true</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a325c26c97e8951027f8fbc71153af30</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Check Approval Status">a725c26c97e8951027f8fbc71153af2f</activity>
        <condition>activity.result == 'yes'</condition>
        <condition_default display_value="Yes">c1ef63200a0a0b59005ef89bae78feb7</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Yes</name>
        <order>100</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2725c26c97e8951027f8fbc71153af30</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="If">98f621ca0a0a0b5900f7c291f5e45a0e</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>9</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Check bp_uuid for Blueprint Launch</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af20</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>296</x>
        <y>111</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=6f25c26c97e8951027f8fbc71153af20"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6f25c26c97e8951027f8fbc71153af20</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6725c26c97e8951027f8fbc71153af21</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&#13;
//&#13;
// For example,&#13;
//&#13;
&#13;
answer = ifScript();&#13;
&#13;
function ifScript() {&#13;
	&#13;
	current.state = 2; // to make the RITM's sate as 'Work In Progress'&#13;
	current.stage = 'provisioning';&#13;
	&#13;
	var logger = new Nutanix_Calm_Logger();&#13;
	workflow.scratchpad.cat_item = current.cat_item;&#13;
	workflow.scratchpad.user = gs.getUserName();&#13;
// 	workflow.scratchpad.userID = gs.getUserID();&#13;
// 	gs.info("User ID: "+gs.getUserID());&#13;
	&#13;
	if (current.cat_item.blueprint_name.sys_class_name == 'x_nuta2_nutanix_ca_nutanix_blueprint') {&#13;
		return 'yes';&#13;
	}&#13;
	return 'no';&#13;
	&#13;
	&#13;
}&#13;
&#13;
</value>
        <variable display_value="Script">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6f25c26c97e8951027f8fbc71153af20</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a325c26c97e8951027f8fbc71153af21</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>1</value>
        <variable display_value="Advanced">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6f25c26c97e8951027f8fbc71153af20</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ef25c26c97e8951027f8fbc71153af20</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Condition">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6f25c26c97e8951027f8fbc71153af20</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ef25c26c97e8951027f8fbc71153af20</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Condition">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6f25c26c97e8951027f8fbc71153af20</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a325c26c97e8951027f8fbc71153af21</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>1</value>
        <variable display_value="Advanced">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6f25c26c97e8951027f8fbc71153af20</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6725c26c97e8951027f8fbc71153af21</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&#13;
//&#13;
// For example,&#13;
//&#13;
&#13;
answer = ifScript();&#13;
&#13;
function ifScript() {&#13;
	&#13;
	current.state = 2; // to make the RITM's sate as 'Work In Progress'&#13;
	current.stage = 'provisioning';&#13;
	&#13;
	var logger = new Nutanix_Calm_Logger();&#13;
	workflow.scratchpad.cat_item = current.cat_item;&#13;
	workflow.scratchpad.user = gs.getUserName();&#13;
// 	workflow.scratchpad.userID = gs.getUserID();&#13;
// 	gs.info("User ID: "+gs.getUserID());&#13;
	&#13;
	if (current.cat_item.blueprint_name.sys_class_name == 'x_nuta2_nutanix_ca_nutanix_blueprint') {&#13;
		return 'yes';&#13;
	}&#13;
	return 'no';&#13;
	&#13;
	&#13;
}&#13;
&#13;
</value>
        <variable display_value="Script">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Check bp_uuid for Blueprint Launch">6f25c26c97e8951027f8fbc71153af20</activity>
        <condition>activity.result == 'no'</condition>
        <condition_default display_value="No">c1eff6430a0a0b59000f955abe842c94</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>false</is_positive>
        <name>No</name>
        <order>200</order>
        <short_description/>
        <skip_during_generate>true</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>eb25c26c97e8951027f8fbc71153af21</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Check bp_uuid for Blueprint Launch">6f25c26c97e8951027f8fbc71153af20</activity>
        <condition>activity.result == 'yes'</condition>
        <condition_default display_value="Yes">c1ef63200a0a0b59005ef89bae78feb7</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Yes</name>
        <order>100</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6b25c26c97e8951027f8fbc71153af21</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="If">98f621ca0a0a0b5900f7c291f5e45a0e</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>11</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Check launched blueprint success/failed</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2b25c26c97e8951027f8fbc71153af31</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>947</x>
        <y>198</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=2b25c26c97e8951027f8fbc71153af31"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2b25c26c97e8951027f8fbc71153af31</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af32</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&#13;
//&#13;
// For example,&#13;
//&#13;
answer = ifScript();&#13;
&#13;
function ifScript() {&#13;
	var logger = new Nutanix_Calm_Logger();	&#13;
	&#13;
	var bpStatusResp = workflow.scratchpad.bpStatusResp; &#13;
	&#13;
	var parsedJson =  JSON.parse(bpStatusResp.getBody());	&#13;
	&#13;
	&#13;
	if((parsedJson.status.state == 'success' || parsedJson.status.state == 'Success') &amp;&amp; (parsedJson.status.milestone == 'Succeeded' || parsedJson.status.milestone == 'succeeded')){&#13;
		&#13;
		workflow.scratchpad.app_uuid = parsedJson.status.application_uuid;		&#13;
		logger.info("[wf_workflow] Application uuid: '"+workflow.scratchpad.app_uuid+"' has been created for Blueprint '"+workflow.scratchpad.bp_name+"'");&#13;
		workflow.scratchpad.app_name = parsedJson.status.app_name;&#13;
		&#13;
		return 'yes';&#13;
		&#13;
	} else if((parsedJson.status.state == 'failure' || parsedJson.status.state == 'Failure') &amp;&amp; (parsedJson.status.milestone == 'failed' || parsedJson.status.milestone == 'Failed')){&#13;
		&#13;
		workflow.scratchpad.blueprint_launch_failed = bpStatusResp.getBody();&#13;
		&#13;
		logger.error("[wf_workflow] Blueprint '"+workflow.scratchpad.bp_name+"' Launch failed by '"+workflow.scratchpad.user+"', Reason: "+workflow.scratchpad.blueprint_launch_failed);&#13;
		&#13;
		return 'no';&#13;
	} &#13;
	&#13;
	&#13;
}&#13;
</value>
        <variable display_value="Script">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2b25c26c97e8951027f8fbc71153af31</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af31</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>1</value>
        <variable display_value="Advanced">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2b25c26c97e8951027f8fbc71153af31</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ab25c26c97e8951027f8fbc71153af31</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Condition">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2b25c26c97e8951027f8fbc71153af31</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ab25c26c97e8951027f8fbc71153af31</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Condition">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2b25c26c97e8951027f8fbc71153af31</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af31</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>1</value>
        <variable display_value="Advanced">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2b25c26c97e8951027f8fbc71153af31</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af32</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&#13;
//&#13;
// For example,&#13;
//&#13;
answer = ifScript();&#13;
&#13;
function ifScript() {&#13;
	var logger = new Nutanix_Calm_Logger();	&#13;
	&#13;
	var bpStatusResp = workflow.scratchpad.bpStatusResp; &#13;
	&#13;
	var parsedJson =  JSON.parse(bpStatusResp.getBody());	&#13;
	&#13;
	&#13;
	if((parsedJson.status.state == 'success' || parsedJson.status.state == 'Success') &amp;&amp; (parsedJson.status.milestone == 'Succeeded' || parsedJson.status.milestone == 'succeeded')){&#13;
		&#13;
		workflow.scratchpad.app_uuid = parsedJson.status.application_uuid;		&#13;
		logger.info("[wf_workflow] Application uuid: '"+workflow.scratchpad.app_uuid+"' has been created for Blueprint '"+workflow.scratchpad.bp_name+"'");&#13;
		workflow.scratchpad.app_name = parsedJson.status.app_name;&#13;
		&#13;
		return 'yes';&#13;
		&#13;
	} else if((parsedJson.status.state == 'failure' || parsedJson.status.state == 'Failure') &amp;&amp; (parsedJson.status.milestone == 'failed' || parsedJson.status.milestone == 'Failed')){&#13;
		&#13;
		workflow.scratchpad.blueprint_launch_failed = bpStatusResp.getBody();&#13;
		&#13;
		logger.error("[wf_workflow] Blueprint '"+workflow.scratchpad.bp_name+"' Launch failed by '"+workflow.scratchpad.user+"', Reason: "+workflow.scratchpad.blueprint_launch_failed);&#13;
		&#13;
		return 'no';&#13;
	} &#13;
	&#13;
	&#13;
}&#13;
</value>
        <variable display_value="Script">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Check launched blueprint success/failed">2b25c26c97e8951027f8fbc71153af31</activity>
        <condition>activity.result == 'no'</condition>
        <condition_default display_value="No">c1eff6430a0a0b59000f955abe842c94</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>false</is_positive>
        <name>Failed</name>
        <order>200</order>
        <short_description/>
        <skip_during_generate>true</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2725c26c97e8951027f8fbc71153af32</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Check launched blueprint success/failed">2b25c26c97e8951027f8fbc71153af31</activity>
        <condition>activity.result == 'yes'</condition>
        <condition_default display_value="Yes">c1ef63200a0a0b59005ef89bae78feb7</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>false</is_positive>
        <name>Success</name>
        <order>100</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a725c26c97e8951027f8fbc71153af32</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="If">98f621ca0a0a0b5900f7c291f5e45a0e</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>16</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Check pending status</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6325c26c97e8951027f8fbc71153af15</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>909</x>
        <y>19</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=6325c26c97e8951027f8fbc71153af15"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6325c26c97e8951027f8fbc71153af15</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6b25c26c97e8951027f8fbc71153af15</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&#13;
//&#13;
// For example,&#13;
//&#13;
answer = ifScript();&#13;
&#13;
function ifScript() {&#13;
	var logger = new Nutanix_Calm_Logger();&#13;
	var requestState = workflow.scratchpad.requestState;&#13;
	if (requestState == 'PENDING' || requestState == 'pending' || requestState == 'running') {			&#13;
		logger.info("[wf_workflow] Blueprint '"+workflow.scratchpad.bp_name+"' Launch is in progress state: "+requestState);&#13;
		&#13;
		return 'yes';&#13;
	}&#13;
	return 'no';&#13;
}&#13;
</value>
        <variable display_value="Script">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6325c26c97e8951027f8fbc71153af15</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a725c26c97e8951027f8fbc71153af15</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>1</value>
        <variable display_value="Advanced">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6325c26c97e8951027f8fbc71153af15</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e325c26c97e8951027f8fbc71153af15</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Condition">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6325c26c97e8951027f8fbc71153af15</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e325c26c97e8951027f8fbc71153af15</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Condition">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6325c26c97e8951027f8fbc71153af15</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a725c26c97e8951027f8fbc71153af15</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>1</value>
        <variable display_value="Advanced">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6325c26c97e8951027f8fbc71153af15</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6b25c26c97e8951027f8fbc71153af15</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&#13;
//&#13;
// For example,&#13;
//&#13;
answer = ifScript();&#13;
&#13;
function ifScript() {&#13;
	var logger = new Nutanix_Calm_Logger();&#13;
	var requestState = workflow.scratchpad.requestState;&#13;
	if (requestState == 'PENDING' || requestState == 'pending' || requestState == 'running') {			&#13;
		logger.info("[wf_workflow] Blueprint '"+workflow.scratchpad.bp_name+"' Launch is in progress state: "+requestState);&#13;
		&#13;
		return 'yes';&#13;
	}&#13;
	return 'no';&#13;
}&#13;
</value>
        <variable display_value="Script">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Check pending status">6325c26c97e8951027f8fbc71153af15</activity>
        <condition>activity.result == 'no'</condition>
        <condition_default display_value="No">c1eff6430a0a0b59000f955abe842c94</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>false</is_positive>
        <name>No</name>
        <order>200</order>
        <short_description/>
        <skip_during_generate>true</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ef25c26c97e8951027f8fbc71153af15</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Check pending status">6325c26c97e8951027f8fbc71153af15</activity>
        <condition>activity.result == 'yes'</condition>
        <condition_default display_value="Yes">c1ef63200a0a0b59005ef89bae78feb7</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Yes</name>
        <order>100</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af15</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Run Script">db8c65aec0a8016501d00259bc7203a4</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>22</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Create Incident on application error state</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>af25c26c97e8951027f8fbc71153af1d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>954</x>
        <y>481</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=af25c26c97e8951027f8fbc71153af1d"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>af25c26c97e8951027f8fbc71153af1d</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af1e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>var logger = new Nutanix_Calm_Logger();&#13;
var utils = new Nutanix_Calm_Utils();&#13;
&#13;
current.state = 4; //make Requested Item's state as 'Closed Incomplete'&#13;
current.stage = 'error';&#13;
current.comments = "Incomplete due to some reason";&#13;
&#13;
var catItemName = ' ';&#13;
var gr = new GlideRecord('sc_cat_item');&#13;
gr.addQuery('sys_id',workflow.scratchpad.cat_item);&#13;
gr.query();&#13;
if(gr.next())&#13;
{&#13;
	catItemName = gr.name;&#13;
}&#13;
if(gs.getProperty('x_nuta2_nutanix_ca.incident.blueprint.failed') == 'true')&#13;
{&#13;
	&#13;
	var grInc = new GlideRecord('incident');&#13;
	grInc.initialize();&#13;
	grInc.caller_id = workflow.scratchpad.userID + '';&#13;
	grInc.x_nuta2_nutanix_ca_catalog_item = workflow.scratchpad.cat_item;&#13;
	&#13;
	&#13;
	var message = workflow.scratchpad.app_name+' has provisioned to an error state';&#13;
	var desc = '';&#13;
	var reason = '';&#13;
	var output_JSON = &#13;
	{&#13;
		"task_name" : [],&#13;
		"detailed_output" : []&#13;
	};&#13;
	&#13;
	var app_uuid = workflow.scratchpad.app_uuid;&#13;
	var body = &#13;
	{&#13;
		"filter": "application_reference=="+app_uuid+";type==action_runlog"&#13;
	};&#13;
	&#13;
	var response = utils.makeCalmApiCall('POST', '/apps/' + app_uuid + '/app_runlogs/list', JSON.stringify(body));&#13;
	&#13;
	if(response.getStatusCode() == '200' || response.getStatusCode() == '201') &#13;
	{&#13;
		&#13;
		var parseResp = JSON.parse(response.getBody());&#13;
		gs.info("@@@ 1: " + JSON.stringify(parseResp));&#13;
		for(var i in parseResp.entities)&#13;
			var rootRefUuuid =  parseResp.entities[i].metadata.uuid;&#13;
		&#13;
		var body2 = &#13;
		{&#13;
			"filter": "root_reference=="+rootRefUuuid&#13;
		};&#13;
		&#13;
		var response2 = utils.makeCalmApiCall('POST', '/apps/' + app_uuid + '/app_runlogs/list', JSON.stringify(body2));&#13;
		&#13;
		var parseResp2 = JSON.parse(response2.getBody());&#13;
		gs.info("@@@ 2: " + JSON.stringify(parseResp2));&#13;
		for(var j in parseResp2.entities) &#13;
		{&#13;
			&#13;
			var entitiesStatus = parseResp2.entities[j].status;&#13;
			if(parseResp2.entities[j].status.task_reference &amp;&amp; parseResp2.entities[j].status.task_reference.name!='') &#13;
			{&#13;
				&#13;
				var response3 = utils.makeCalmApiCall('GET', '/apps/' + app_uuid + '/app_runlogs/'+parseResp2.entities[j].metadata.uuid+'/output');&#13;
				var parseResp3 = JSON.parse(response3.getBody());&#13;
				gs.info("@@@ 3: " + JSON.stringify(parseResp3));&#13;
				desc = parseResp2.entities[j].status.task_reference.name;&#13;
				gs.info("@@@ Desc 1: " + desc);&#13;
				output_JSON.task_name.push(parseResp2.entities[j].status.task_reference.name);&#13;
				output_JSON.detailed_output.push(JSON.parse(response3.getBody()).status.output_list[0].output);&#13;
				&#13;
			}&#13;
			if(parseResp2.entities[j].status.reason_list!='')&#13;
			{&#13;
				reason = (parseResp2.entities[j].status.reason_list).toString();&#13;
				gs.info("@@@ reason 1: " + reason);&#13;
				&#13;
			}&#13;
			&#13;
		}&#13;
	}&#13;
	&#13;
	grInc.short_description = 'Runlogs for application '+workflow.scratchpad.app_name;&#13;
	gs.info("@@@ SD: " + grInc.short_description);&#13;
	//gs.info("@@@ Desc: " + desc);&#13;
	grInc.description = 'Task Name: ' + desc + '\n\n Reason' + reason; //updating description.&#13;
	gs.info("@@@ Description: " + grInc.description);&#13;
	grInc.assignment_group =  gs.getProperty('x_nuta2_nutanix_ca.assignment.group');&#13;
	var incidentSysID = grInc.insert();&#13;
	for(i in output_JSON.task_name) &#13;
	{&#13;
		var gsa = new GlideSysAttachment();&#13;
		var attachmentId = gsa.write(grInc, output_JSON.task_name[i]+".txt", 'text/plain', output_JSON.detailed_output[i]);&#13;
	}&#13;
	&#13;
	var grItem = new GlideRecord('sc_req_item');&#13;
	grItem.addQuery('request.number', current.request.getDisplayValue());&#13;
	grItem.query();&#13;
	if(grItem.next())&#13;
	{		&#13;
		grItem.x_nuta2_nutanix_ca_incident = incidentSysID;&#13;
		grItem.update();				&#13;
	}&#13;
	&#13;
	&#13;
} &#13;
else &#13;
{&#13;
	logger.info("[wf_workflow] Blueprint '"+catItemName+"' launch failed. No incident will be created because Create Incidents property is unchecked by Calm Admin");&#13;
}</value>
        <variable display_value="Script">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>af25c26c97e8951027f8fbc71153af1d</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af1e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>var logger = new Nutanix_Calm_Logger();&#13;
var utils = new Nutanix_Calm_Utils();&#13;
&#13;
current.state = 4; //make Requested Item's state as 'Closed Incomplete'&#13;
current.stage = 'error';&#13;
current.comments = "Incomplete due to some reason";&#13;
&#13;
var catItemName = ' ';&#13;
var gr = new GlideRecord('sc_cat_item');&#13;
gr.addQuery('sys_id',workflow.scratchpad.cat_item);&#13;
gr.query();&#13;
if(gr.next())&#13;
{&#13;
	catItemName = gr.name;&#13;
}&#13;
if(gs.getProperty('x_nuta2_nutanix_ca.incident.blueprint.failed') == 'true')&#13;
{&#13;
	&#13;
	var grInc = new GlideRecord('incident');&#13;
	grInc.initialize();&#13;
	grInc.caller_id = workflow.scratchpad.userID + '';&#13;
	grInc.x_nuta2_nutanix_ca_catalog_item = workflow.scratchpad.cat_item;&#13;
	&#13;
	&#13;
	var message = workflow.scratchpad.app_name+' has provisioned to an error state';&#13;
	var desc = '';&#13;
	var reason = '';&#13;
	var output_JSON = &#13;
	{&#13;
		"task_name" : [],&#13;
		"detailed_output" : []&#13;
	};&#13;
	&#13;
	var app_uuid = workflow.scratchpad.app_uuid;&#13;
	var body = &#13;
	{&#13;
		"filter": "application_reference=="+app_uuid+";type==action_runlog"&#13;
	};&#13;
	&#13;
	var response = utils.makeCalmApiCall('POST', '/apps/' + app_uuid + '/app_runlogs/list', JSON.stringify(body));&#13;
	&#13;
	if(response.getStatusCode() == '200' || response.getStatusCode() == '201') &#13;
	{&#13;
		&#13;
		var parseResp = JSON.parse(response.getBody());&#13;
		gs.info("@@@ 1: " + JSON.stringify(parseResp));&#13;
		for(var i in parseResp.entities)&#13;
			var rootRefUuuid =  parseResp.entities[i].metadata.uuid;&#13;
		&#13;
		var body2 = &#13;
		{&#13;
			"filter": "root_reference=="+rootRefUuuid&#13;
		};&#13;
		&#13;
		var response2 = utils.makeCalmApiCall('POST', '/apps/' + app_uuid + '/app_runlogs/list', JSON.stringify(body2));&#13;
		&#13;
		var parseResp2 = JSON.parse(response2.getBody());&#13;
		gs.info("@@@ 2: " + JSON.stringify(parseResp2));&#13;
		for(var j in parseResp2.entities) &#13;
		{&#13;
			&#13;
			var entitiesStatus = parseResp2.entities[j].status;&#13;
			if(parseResp2.entities[j].status.task_reference &amp;&amp; parseResp2.entities[j].status.task_reference.name!='') &#13;
			{&#13;
				&#13;
				var response3 = utils.makeCalmApiCall('GET', '/apps/' + app_uuid + '/app_runlogs/'+parseResp2.entities[j].metadata.uuid+'/output');&#13;
				var parseResp3 = JSON.parse(response3.getBody());&#13;
				gs.info("@@@ 3: " + JSON.stringify(parseResp3));&#13;
				desc = parseResp2.entities[j].status.task_reference.name;&#13;
				gs.info("@@@ Desc 1: " + desc);&#13;
				output_JSON.task_name.push(parseResp2.entities[j].status.task_reference.name);&#13;
				output_JSON.detailed_output.push(JSON.parse(response3.getBody()).status.output_list[0].output);&#13;
				&#13;
			}&#13;
			if(parseResp2.entities[j].status.reason_list!='')&#13;
			{&#13;
				reason = (parseResp2.entities[j].status.reason_list).toString();&#13;
				gs.info("@@@ reason 1: " + reason);&#13;
				&#13;
			}&#13;
			&#13;
		}&#13;
	}&#13;
	&#13;
	grInc.short_description = 'Runlogs for application '+workflow.scratchpad.app_name;&#13;
	gs.info("@@@ SD: " + grInc.short_description);&#13;
	//gs.info("@@@ Desc: " + desc);&#13;
	grInc.description = 'Task Name: ' + desc + '\n\n Reason' + reason; //updating description.&#13;
	gs.info("@@@ Description: " + grInc.description);&#13;
	grInc.assignment_group =  gs.getProperty('x_nuta2_nutanix_ca.assignment.group');&#13;
	var incidentSysID = grInc.insert();&#13;
	for(i in output_JSON.task_name) &#13;
	{&#13;
		var gsa = new GlideSysAttachment();&#13;
		var attachmentId = gsa.write(grInc, output_JSON.task_name[i]+".txt", 'text/plain', output_JSON.detailed_output[i]);&#13;
	}&#13;
	&#13;
	var grItem = new GlideRecord('sc_req_item');&#13;
	grItem.addQuery('request.number', current.request.getDisplayValue());&#13;
	grItem.query();&#13;
	if(grItem.next())&#13;
	{		&#13;
		grItem.x_nuta2_nutanix_ca_incident = incidentSysID;&#13;
		grItem.update();				&#13;
	}&#13;
	&#13;
	&#13;
} &#13;
else &#13;
{&#13;
	logger.info("[wf_workflow] Blueprint '"+catItemName+"' launch failed. No incident will be created because Create Incidents property is unchecked by Calm Admin");&#13;
}</value>
        <variable display_value="Script">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Create Incident on application error state">af25c26c97e8951027f8fbc71153af1d</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2725c26c97e8951027f8fbc71153af1e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Run Script">db8c65aec0a8016501d00259bc7203a4</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>7</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Create Incident on blueprint failed</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6725c26c97e8951027f8fbc71153af18</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>667</x>
        <y>429</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=6725c26c97e8951027f8fbc71153af18"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6725c26c97e8951027f8fbc71153af18</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e725c26c97e8951027f8fbc71153af18</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>var logger = new Nutanix_Calm_Logger();&#13;
var utils = new Nutanix_Calm_Utils();&#13;
&#13;
current.state = 4; //make Requested Item's state as 'Closed Incomplete'&#13;
 current.stage = 'error';&#13;
&#13;
var catItemName = ' ';&#13;
var gr = new GlideRecord('sc_cat_item');&#13;
gr.addQuery('sys_id',workflow.scratchpad.cat_item);&#13;
gr.query();&#13;
if(gr.next()){&#13;
	catItemName = gr.name;&#13;
}&#13;
if(gs.getProperty('x_nuta2_nutanix_ca.incident.blueprint.failed') == 'true'){&#13;
	&#13;
	var grInc = new GlideRecord('incident');&#13;
	grInc.initialize();&#13;
	grInc.caller_id = workflow.scratchpad.userID + '';&#13;
	grInc.x_nuta2_nutanix_ca_catalog_item = workflow.scratchpad.cat_item;&#13;
	&#13;
	&#13;
	var failedResp = workflow.scratchpad.blueprint_launch_failed;&#13;
	var parseJson = JSON.parse(failedResp);&#13;
	&#13;
	var message = '';&#13;
	var desc = '';&#13;
	var reason = '';&#13;
	var activity_message = '';&#13;
	&#13;
	if(parseJson.code &amp;&amp; parseJson.state){&#13;
		message = "Blueprint Catalog Name: "+catItemName+"\nCode: "+parseJson.code+"\n"+"State: "+parseJson.state;&#13;
		for(var i = 0; i&lt;parseJson.message_list.length; i++){&#13;
			desc = (parseJson.message_list[i].message)?parseJson.message_list[i].message:'';&#13;
			reason = (parseJson.message_list[i].reason)?parseJson.message_list[i].reason:'';&#13;
			message = message+"\nError Message: "+desc+" \nReason: "+reason;&#13;
		}&#13;
		grInc.description = message;&#13;
		activity_message = "Blueprint Catalog Name: "+catItemName+"\nCode: "+parseJson.code+"\n"+"State: "+parseJson.state;&#13;
		if(desc == "Blueprint with same name already exists"){&#13;
			desc = "Application name is already used";&#13;
			activity_message = activity_message+"\nError Message: "+desc+" \nReason: "+reason;&#13;
		}&#13;
		current.comments = activity_message;&#13;
		&#13;
	}else if(parseJson.status.state &amp;&amp; parseJson.status.milestone){&#13;
		message = "Blueprint Catalog Name: "+catItemName+"\n"+"State: "+parseJson.status.state;&#13;
		&#13;
		for(var i = 0; i&lt;parseJson.status.message_list.length; i++){&#13;
			&#13;
			desc = (parseJson.status.message_list[i].message)?parseJson.status.message_list[i].message:'';&#13;
			reason = (parseJson.status.message_list[i].reason)?parseJson.status.message_list[i].reason:'';			&#13;
			var details = (parseJson.status.message_list[i].details)?parseJson.status.message_list[i].details:'';&#13;
			&#13;
			message = message+"\nError Message: "+desc+" \nReason: "+reason+" \nDetails: "+JSON.stringify(details);&#13;
		}&#13;
		grInc.description = message;		&#13;
	} else {&#13;
		grInc.description = workflow.scratchpad.blueprint_launch_failed;&#13;
	}&#13;
	&#13;
	grInc.assignment_group =  gs.getProperty('x_nuta2_nutanix_ca.assignment.group');&#13;
	grInc.short_description = catItemName;&#13;
	var incidentSysID = grInc.insert();&#13;
	var gsa = new GlideSysAttachment();&#13;
	var attachmentId = gsa.write(grInc, "Incident_attachment.txt", 'text/plain', message+'');&#13;
	&#13;
	var grItem = new GlideRecord('sc_req_item');&#13;
	grItem.addQuery('request.number', current.request.getDisplayValue());&#13;
	grItem.query();&#13;
	if(grItem.next()){		&#13;
		grItem.x_nuta2_nutanix_ca_incident = incidentSysID;&#13;
		grItem.update();				&#13;
	}&#13;
	&#13;
	logger.error("[wf_workflow] Incident created on Blueprint '"+catItemName+"' launched failure");&#13;
	&#13;
} else {	&#13;
	logger.info("[wf_workflow] Blueprint '"+catItemName+"' launched failed. No incident will be created because Create Incidents property is unchecked by Calm Admin");	&#13;
}&#13;
&#13;
</value>
        <variable display_value="Script">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6725c26c97e8951027f8fbc71153af18</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e725c26c97e8951027f8fbc71153af18</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>var logger = new Nutanix_Calm_Logger();&#13;
var utils = new Nutanix_Calm_Utils();&#13;
&#13;
current.state = 4; //make Requested Item's state as 'Closed Incomplete'&#13;
 current.stage = 'error';&#13;
&#13;
var catItemName = ' ';&#13;
var gr = new GlideRecord('sc_cat_item');&#13;
gr.addQuery('sys_id',workflow.scratchpad.cat_item);&#13;
gr.query();&#13;
if(gr.next()){&#13;
	catItemName = gr.name;&#13;
}&#13;
if(gs.getProperty('x_nuta2_nutanix_ca.incident.blueprint.failed') == 'true'){&#13;
	&#13;
	var grInc = new GlideRecord('incident');&#13;
	grInc.initialize();&#13;
	grInc.caller_id = workflow.scratchpad.userID + '';&#13;
	grInc.x_nuta2_nutanix_ca_catalog_item = workflow.scratchpad.cat_item;&#13;
	&#13;
	&#13;
	var failedResp = workflow.scratchpad.blueprint_launch_failed;&#13;
	var parseJson = JSON.parse(failedResp);&#13;
	&#13;
	var message = '';&#13;
	var desc = '';&#13;
	var reason = '';&#13;
	var activity_message = '';&#13;
	&#13;
	if(parseJson.code &amp;&amp; parseJson.state){&#13;
		message = "Blueprint Catalog Name: "+catItemName+"\nCode: "+parseJson.code+"\n"+"State: "+parseJson.state;&#13;
		for(var i = 0; i&lt;parseJson.message_list.length; i++){&#13;
			desc = (parseJson.message_list[i].message)?parseJson.message_list[i].message:'';&#13;
			reason = (parseJson.message_list[i].reason)?parseJson.message_list[i].reason:'';&#13;
			message = message+"\nError Message: "+desc+" \nReason: "+reason;&#13;
		}&#13;
		grInc.description = message;&#13;
		activity_message = "Blueprint Catalog Name: "+catItemName+"\nCode: "+parseJson.code+"\n"+"State: "+parseJson.state;&#13;
		if(desc == "Blueprint with same name already exists"){&#13;
			desc = "Application name is already used";&#13;
			activity_message = activity_message+"\nError Message: "+desc+" \nReason: "+reason;&#13;
		}&#13;
		current.comments = activity_message;&#13;
		&#13;
	}else if(parseJson.status.state &amp;&amp; parseJson.status.milestone){&#13;
		message = "Blueprint Catalog Name: "+catItemName+"\n"+"State: "+parseJson.status.state;&#13;
		&#13;
		for(var i = 0; i&lt;parseJson.status.message_list.length; i++){&#13;
			&#13;
			desc = (parseJson.status.message_list[i].message)?parseJson.status.message_list[i].message:'';&#13;
			reason = (parseJson.status.message_list[i].reason)?parseJson.status.message_list[i].reason:'';			&#13;
			var details = (parseJson.status.message_list[i].details)?parseJson.status.message_list[i].details:'';&#13;
			&#13;
			message = message+"\nError Message: "+desc+" \nReason: "+reason+" \nDetails: "+JSON.stringify(details);&#13;
		}&#13;
		grInc.description = message;		&#13;
	} else {&#13;
		grInc.description = workflow.scratchpad.blueprint_launch_failed;&#13;
	}&#13;
	&#13;
	grInc.assignment_group =  gs.getProperty('x_nuta2_nutanix_ca.assignment.group');&#13;
	grInc.short_description = catItemName;&#13;
	var incidentSysID = grInc.insert();&#13;
	var gsa = new GlideSysAttachment();&#13;
	var attachmentId = gsa.write(grInc, "Incident_attachment.txt", 'text/plain', message+'');&#13;
	&#13;
	var grItem = new GlideRecord('sc_req_item');&#13;
	grItem.addQuery('request.number', current.request.getDisplayValue());&#13;
	grItem.query();&#13;
	if(grItem.next()){		&#13;
		grItem.x_nuta2_nutanix_ca_incident = incidentSysID;&#13;
		grItem.update();				&#13;
	}&#13;
	&#13;
	logger.error("[wf_workflow] Incident created on Blueprint '"+catItemName+"' launched failure");&#13;
	&#13;
} else {	&#13;
	logger.info("[wf_workflow] Blueprint '"+catItemName+"' launched failed. No incident will be created because Create Incidents property is unchecked by Calm Admin");	&#13;
}&#13;
&#13;
</value>
        <variable display_value="Script">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Create Incident on blueprint failed">6725c26c97e8951027f8fbc71153af18</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>eb25c26c97e8951027f8fbc71153af18</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="End">c7a66f7d0a0a0b3a004544a6d2f14076</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>2</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>End</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6325c26c97e8951027f8fbc71153af22</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width>80</width>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>682</x>
        <y>767</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=6325c26c97e8951027f8fbc71153af22"/>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Run Script">db8c65aec0a8016501d00259bc7203a4</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>10</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>GET  Blueprint Pending Launches Status</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ab25c26c97e8951027f8fbc71153af33</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>720</x>
        <y>19</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=ab25c26c97e8951027f8fbc71153af33"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>ab25c26c97e8951027f8fbc71153af33</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2f25c26c97e8951027f8fbc71153af33</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>/*&#13;
var utils = new Nutanix_Calm_Utils();&#13;
var logger = new Nutanix_Calm_Logger();&#13;
var request_id = workflow.scratchpad.request_id;&#13;
var bp_uuid = workflow.scratchpad.bp_uuid;&#13;
var bpStatusResp = utils.makeCalmApiCall('GET', '/blueprints/'+bp_uuid+'/pending_launches/'+request_id);&#13;
var pendingState = JSON.parse(bpStatusResp.getBody()).status.state + '';&#13;
if(bpStatusResp.getStatusCode() == '200' || bpStatusResp.getStatusCode() == '201') {&#13;
	&#13;
	while(pendingState == 'PENDING' || pendingState == 'running') {&#13;
		&#13;
		bpStatusResp = utils.makeCalmApiCall('GET', '/blueprints/'+bp_uuid+'/pending_launches/'+request_id);&#13;
		pendingState = JSON.parse(bpStatusResp.getBody()).status.state + '';&#13;
	}&#13;
	&#13;
	workflow.scratchpad.bpStatusResp = bpStatusResp; //JSON.parse(bpStatusResp.getBody());&#13;
	&#13;
} else {&#13;
	logger.error("[wf_workflow] Blueprint Pending Launches failed: "+bpStatusResp.getBody());&#13;
}&#13;
*/&#13;
&#13;
var utils = new Nutanix_Calm_Utils();&#13;
var logger = new Nutanix_Calm_Logger();&#13;
var request_id = workflow.scratchpad.request_id;&#13;
var bp_uuid = workflow.scratchpad.bp_uuid;&#13;
var bpStatusResp = utils.makeCalmApiCall('GET', '/blueprints/'+bp_uuid+'/pending_launches/'+request_id);&#13;
&#13;
if(bpStatusResp.getStatusCode() == '200' || bpStatusResp.getStatusCode() == '201') {	&#13;
	workflow.scratchpad.requestState = JSON.parse(bpStatusResp.getBody()).status.state + '';&#13;
	workflow.scratchpad.bpStatusResp = bpStatusResp;&#13;
	&#13;
} else {	&#13;
	logger.error("[wf_workflow] Blueprint '"+workflow.scratchpad.bp_name+"' Pending Launches failed by '"+workflow.scratchpad.user+"', Reason: "+bpStatusResp.getBody());&#13;
}&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</value>
        <variable display_value="Script">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>ab25c26c97e8951027f8fbc71153af33</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2f25c26c97e8951027f8fbc71153af33</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>/*&#13;
var utils = new Nutanix_Calm_Utils();&#13;
var logger = new Nutanix_Calm_Logger();&#13;
var request_id = workflow.scratchpad.request_id;&#13;
var bp_uuid = workflow.scratchpad.bp_uuid;&#13;
var bpStatusResp = utils.makeCalmApiCall('GET', '/blueprints/'+bp_uuid+'/pending_launches/'+request_id);&#13;
var pendingState = JSON.parse(bpStatusResp.getBody()).status.state + '';&#13;
if(bpStatusResp.getStatusCode() == '200' || bpStatusResp.getStatusCode() == '201') {&#13;
	&#13;
	while(pendingState == 'PENDING' || pendingState == 'running') {&#13;
		&#13;
		bpStatusResp = utils.makeCalmApiCall('GET', '/blueprints/'+bp_uuid+'/pending_launches/'+request_id);&#13;
		pendingState = JSON.parse(bpStatusResp.getBody()).status.state + '';&#13;
	}&#13;
	&#13;
	workflow.scratchpad.bpStatusResp = bpStatusResp; //JSON.parse(bpStatusResp.getBody());&#13;
	&#13;
} else {&#13;
	logger.error("[wf_workflow] Blueprint Pending Launches failed: "+bpStatusResp.getBody());&#13;
}&#13;
*/&#13;
&#13;
var utils = new Nutanix_Calm_Utils();&#13;
var logger = new Nutanix_Calm_Logger();&#13;
var request_id = workflow.scratchpad.request_id;&#13;
var bp_uuid = workflow.scratchpad.bp_uuid;&#13;
var bpStatusResp = utils.makeCalmApiCall('GET', '/blueprints/'+bp_uuid+'/pending_launches/'+request_id);&#13;
&#13;
if(bpStatusResp.getStatusCode() == '200' || bpStatusResp.getStatusCode() == '201') {	&#13;
	workflow.scratchpad.requestState = JSON.parse(bpStatusResp.getBody()).status.state + '';&#13;
	workflow.scratchpad.bpStatusResp = bpStatusResp;&#13;
	&#13;
} else {	&#13;
	logger.error("[wf_workflow] Blueprint '"+workflow.scratchpad.bp_name+"' Pending Launches failed by '"+workflow.scratchpad.user+"', Reason: "+bpStatusResp.getBody());&#13;
}&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</value>
        <variable display_value="Script">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="GET  Blueprint Pending Launches Status">ab25c26c97e8951027f8fbc71153af33</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af34</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Run Script">db8c65aec0a8016501d00259bc7203a4</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>18</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Get application details</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af32</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>1125</x>
        <y>34</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=6f25c26c97e8951027f8fbc71153af32"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6f25c26c97e8951027f8fbc71153af32</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ef25c26c97e8951027f8fbc71153af32</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>var utils = new Nutanix_Calm_Utils();&#13;
var logger = new Nutanix_Calm_Logger();&#13;
var app_uuid = workflow.scratchpad.app_uuid;&#13;
&#13;
var appUuidResponse = utils.makeCalmApiCall('GET', '/apps/'+app_uuid, '');&#13;
&#13;
if(appUuidResponse.getStatusCode() == '200' || appUuidResponse.getStatusCode() == '201'){&#13;
	&#13;
	workflow.scratchpad.appState = JSON.parse(appUuidResponse.getBody()).status.state + '';&#13;
	&#13;
} else {&#13;
	logger.error("[wf_workflow] Error during retrieval of application actions to API /apps/&lt;uuid&gt; Error : "+appUuidResponse.getBody());&#13;
}&#13;
&#13;
</value>
        <variable display_value="Script">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6f25c26c97e8951027f8fbc71153af32</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ef25c26c97e8951027f8fbc71153af32</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>var utils = new Nutanix_Calm_Utils();&#13;
var logger = new Nutanix_Calm_Logger();&#13;
var app_uuid = workflow.scratchpad.app_uuid;&#13;
&#13;
var appUuidResponse = utils.makeCalmApiCall('GET', '/apps/'+app_uuid, '');&#13;
&#13;
if(appUuidResponse.getStatusCode() == '200' || appUuidResponse.getStatusCode() == '201'){&#13;
	&#13;
	workflow.scratchpad.appState = JSON.parse(appUuidResponse.getBody()).status.state + '';&#13;
	&#13;
} else {&#13;
	logger.error("[wf_workflow] Error during retrieval of application actions to API /apps/&lt;uuid&gt; Error : "+appUuidResponse.getBody());&#13;
}&#13;
&#13;
</value>
        <variable display_value="Script">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Get application details">6f25c26c97e8951027f8fbc71153af32</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e325c26c97e8951027f8fbc71153af33</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="If">98f621ca0a0a0b5900f7c291f5e45a0e</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>6</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>IF request_id from Blueprint Launched available</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a325c26c97e8951027f8fbc71153af19</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>536</x>
        <y>25</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=a325c26c97e8951027f8fbc71153af19"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a325c26c97e8951027f8fbc71153af19</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2725c26c97e8951027f8fbc71153af19</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Condition">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a325c26c97e8951027f8fbc71153af19</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ab25c26c97e8951027f8fbc71153af19</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&#13;
//&#13;
// For example,&#13;
&#13;
answer = ifScript();&#13;
&#13;
function ifScript() {&#13;
	var utils = new Nutanix_Calm_Utils();&#13;
	var logger = new Nutanix_Calm_Logger();&#13;
	&#13;
	var bpLaunchedResp  = workflow.scratchpad.bpLaunchedResp;&#13;
	&#13;
	if(bpLaunchedResp.getStatusCode() == '200' || bpLaunchedResp.getStatusCode() == '201'){&#13;
	&#13;
		bpLaunchedResp = JSON.parse(bpLaunchedResp.getBody());&#13;
		workflow.scratchpad.request_id = bpLaunchedResp.status.request_id;&#13;
		&#13;
		logger.info("[wf_workflow] Blueprint '"+workflow.scratchpad.bp_name+"' Launched Success by '"+workflow.scratchpad.user+"'");&#13;
		logger.info("[wf_workflow] Request ID: "+workflow.scratchpad.request_id+" for Blueprint: "+ bpLaunchedResp.metadata.name+''+" has been created");&#13;
		&#13;
		&#13;
		return 'yes';&#13;
	} else{		&#13;
		workflow.scratchpad.blueprint_launch_failed = bpLaunchedResp.getBody();&#13;
		logger.error("[wf_workflow] Blueprint '"+workflow.scratchpad.bp_name+"' Launch failed by '"+workflow.scratchpad.user+"', Reason: "+bpLaunchedResp.getBody());&#13;
		return 'no';&#13;
	}&#13;
	&#13;
}&#13;
</value>
        <variable display_value="Script">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a325c26c97e8951027f8fbc71153af19</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e725c26c97e8951027f8fbc71153af19</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>1</value>
        <variable display_value="Advanced">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a325c26c97e8951027f8fbc71153af19</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2725c26c97e8951027f8fbc71153af19</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Condition">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a325c26c97e8951027f8fbc71153af19</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e725c26c97e8951027f8fbc71153af19</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>1</value>
        <variable display_value="Advanced">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>a325c26c97e8951027f8fbc71153af19</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ab25c26c97e8951027f8fbc71153af19</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&#13;
//&#13;
// For example,&#13;
&#13;
answer = ifScript();&#13;
&#13;
function ifScript() {&#13;
	var utils = new Nutanix_Calm_Utils();&#13;
	var logger = new Nutanix_Calm_Logger();&#13;
	&#13;
	var bpLaunchedResp  = workflow.scratchpad.bpLaunchedResp;&#13;
	&#13;
	if(bpLaunchedResp.getStatusCode() == '200' || bpLaunchedResp.getStatusCode() == '201'){&#13;
	&#13;
		bpLaunchedResp = JSON.parse(bpLaunchedResp.getBody());&#13;
		workflow.scratchpad.request_id = bpLaunchedResp.status.request_id;&#13;
		&#13;
		logger.info("[wf_workflow] Blueprint '"+workflow.scratchpad.bp_name+"' Launched Success by '"+workflow.scratchpad.user+"'");&#13;
		logger.info("[wf_workflow] Request ID: "+workflow.scratchpad.request_id+" for Blueprint: "+ bpLaunchedResp.metadata.name+''+" has been created");&#13;
		&#13;
		&#13;
		return 'yes';&#13;
	} else{		&#13;
		workflow.scratchpad.blueprint_launch_failed = bpLaunchedResp.getBody();&#13;
		logger.error("[wf_workflow] Blueprint '"+workflow.scratchpad.bp_name+"' Launch failed by '"+workflow.scratchpad.user+"', Reason: "+bpLaunchedResp.getBody());&#13;
		return 'no';&#13;
	}&#13;
	&#13;
}&#13;
</value>
        <variable display_value="Script">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="IF request_id from Blueprint Launched available">a325c26c97e8951027f8fbc71153af19</activity>
        <condition>activity.result == 'no'</condition>
        <condition_default display_value="No">c1eff6430a0a0b59000f955abe842c94</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>false</is_positive>
        <name>No</name>
        <order>200</order>
        <short_description/>
        <skip_during_generate>true</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>af25c26c97e8951027f8fbc71153af19</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="IF request_id from Blueprint Launched available">a325c26c97e8951027f8fbc71153af19</activity>
        <condition>activity.result == 'yes'</condition>
        <condition_default display_value="Yes">c1ef63200a0a0b59005ef89bae78feb7</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Yes</name>
        <order>100</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af1a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Create Event">9f680b92c0a801640026553f665b429f</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>23</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Mail Trigger</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2f25c26c97e8951027f8fbc71153af16</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>898</x>
        <y>625</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=2f25c26c97e8951027f8fbc71153af16"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af16</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2b25c26c97e8951027f8fbc71153af17</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>(function() {&#13;
	// return the value to use for Parameter 2&#13;
	return "";&#13;
}());</value>
        <variable display_value="Parameter 2">c35dd3ef0a0a0ba96248a70947e35325</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af16</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6725c26c97e8951027f8fbc71153af17</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>(function() {&#13;
	// return the value to use for Parameter 1&#13;
	var utils = new Nutanix_Calm_Utils();&#13;
	var app_uuid = workflow.scratchpad.app_uuid;&#13;
	var appUuidResponse = utils.makeCalmApiCall('GET', '/apps/'+app_uuid, '');&#13;
	var parsedUuidResponse = JSON.parse(appUuidResponse.getBody());&#13;
	&#13;
	var mailJSON = {"cloned_from":"","services":[]};&#13;
	&#13;
	if(parsedUuidResponse.status.resources.cloned_from_reference)&#13;
		mailJSON.cloned_from = parsedUuidResponse.status.resources.cloned_from_reference.name + '';&#13;
	&#13;
	var dep_list = parsedUuidResponse.status.resources.deployment_list;&#13;
	&#13;
	for(var j in dep_list) {&#13;
		var elements = (dep_list[j].substrate_configuration &amp;&amp; dep_list[j].substrate_configuration.element_list) ? dep_list[j].substrate_configuration.element_list : {} ;&#13;
		&#13;
		for(var p in elements)&#13;
			mailJSON.services.push({"name":elements[p].name+'',"ip":elements[p].address+''});&#13;
	}&#13;
	&#13;
	return JSON.stringify(mailJSON);&#13;
}());</value>
        <variable display_value="Parameter 1">c35dd0310a0a0ba96248a70936d276b3</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af16</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a325c26c97e8951027f8fbc71153af17</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>86cc41264f3e33008373224f9310c774</value>
        <variable display_value="Event name">c35dcc7a0a0a0ba96248a70926fa68b5</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af16</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a325c26c97e8951027f8fbc71153af17</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>86cc41264f3e33008373224f9310c774</value>
        <variable display_value="Event name">c35dcc7a0a0a0ba96248a70926fa68b5</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af16</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6725c26c97e8951027f8fbc71153af17</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>(function() {&#13;
	// return the value to use for Parameter 1&#13;
	var utils = new Nutanix_Calm_Utils();&#13;
	var app_uuid = workflow.scratchpad.app_uuid;&#13;
	var appUuidResponse = utils.makeCalmApiCall('GET', '/apps/'+app_uuid, '');&#13;
	var parsedUuidResponse = JSON.parse(appUuidResponse.getBody());&#13;
	&#13;
	var mailJSON = {"cloned_from":"","services":[]};&#13;
	&#13;
	if(parsedUuidResponse.status.resources.cloned_from_reference)&#13;
		mailJSON.cloned_from = parsedUuidResponse.status.resources.cloned_from_reference.name + '';&#13;
	&#13;
	var dep_list = parsedUuidResponse.status.resources.deployment_list;&#13;
	&#13;
	for(var j in dep_list) {&#13;
		var elements = (dep_list[j].substrate_configuration &amp;&amp; dep_list[j].substrate_configuration.element_list) ? dep_list[j].substrate_configuration.element_list : {} ;&#13;
		&#13;
		for(var p in elements)&#13;
			mailJSON.services.push({"name":elements[p].name+'',"ip":elements[p].address+''});&#13;
	}&#13;
	&#13;
	return JSON.stringify(mailJSON);&#13;
}());</value>
        <variable display_value="Parameter 1">c35dd0310a0a0ba96248a70936d276b3</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af16</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2b25c26c97e8951027f8fbc71153af17</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>(function() {&#13;
	// return the value to use for Parameter 2&#13;
	return "";&#13;
}());</value>
        <variable display_value="Parameter 2">c35dd3ef0a0a0ba96248a70947e35325</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Mail Trigger">2f25c26c97e8951027f8fbc71153af16</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>af25c26c97e8951027f8fbc71153af17</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="If">98f621ca0a0a0b5900f7c291f5e45a0e</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>15</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Marketpalce Launch failed??</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2f25c26c97e8951027f8fbc71153af39</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>222</x>
        <y>555</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=2f25c26c97e8951027f8fbc71153af39"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af39</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2725c26c97e8951027f8fbc71153af3a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&#13;
//&#13;
// For example,&#13;
//&#13;
  answer = ifScript();&#13;
&#13;
  function ifScript() {&#13;
	  	  &#13;
     if (workflow.scratchpad.flag == 'failed') {&#13;
        return 'yes';&#13;
     }&#13;
     return 'no';&#13;
  }&#13;
</value>
        <variable display_value="Script">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af39</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6325c26c97e8951027f8fbc71153af3a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>1</value>
        <variable display_value="Advanced">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af39</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>af25c26c97e8951027f8fbc71153af39</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Condition">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af39</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>af25c26c97e8951027f8fbc71153af39</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Condition">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af39</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6325c26c97e8951027f8fbc71153af3a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>1</value>
        <variable display_value="Advanced">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af39</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2725c26c97e8951027f8fbc71153af3a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&#13;
//&#13;
// For example,&#13;
//&#13;
  answer = ifScript();&#13;
&#13;
  function ifScript() {&#13;
	  	  &#13;
     if (workflow.scratchpad.flag == 'failed') {&#13;
        return 'yes';&#13;
     }&#13;
     return 'no';&#13;
  }&#13;
</value>
        <variable display_value="Script">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Marketpalce Launch failed??">2f25c26c97e8951027f8fbc71153af39</activity>
        <condition>activity.result == 'no'</condition>
        <condition_default display_value="No">c1eff6430a0a0b59000f955abe842c94</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>false</is_positive>
        <name>No</name>
        <order>200</order>
        <short_description/>
        <skip_during_generate>true</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ab25c26c97e8951027f8fbc71153af3a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Marketpalce Launch failed??">2f25c26c97e8951027f8fbc71153af39</activity>
        <condition>activity.result == 'yes'</condition>
        <condition_default display_value="Yes">c1ef63200a0a0b59005ef89bae78feb7</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Yes</name>
        <order>100</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2b25c26c97e8951027f8fbc71153af3a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Run Script">db8c65aec0a8016501d00259bc7203a4</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>4</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Marketplace Launch</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>2f25c26c97e8951027f8fbc71153af0b</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>242</x>
        <y>417</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=2f25c26c97e8951027f8fbc71153af0b"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0b</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>6725c26c97e8951027f8fbc71153af0c</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value>var logger = new Nutanix_Calm_Logger();&#13;
&#13;
/*changes for previos patching */&#13;
// workflow.scratchpad.bp_uuid =  current.cat_item.getRefRecord().cloned_bp_uuid;&#13;
// workflow.scratchpad.bp_name = current.cat_item.getRefRecord().cloned_bp_name;&#13;
// if(workflow.scratchpad.bp_uuid &amp;&amp; workflow.scratchpad.bp_name){&#13;
// 		workflow.scratchpad.flag = 'success';&#13;
// }else{&#13;
// 	workflow.scratchpad.flag = 'failed';&#13;
// 	workflow.scratchpad.blueprint_launch_failed = "Failed to get the cloned BP uuid";&#13;
//  	logger.error("[wf_workflow] Marketplace_launch failed: Failed to get the cloned BP uuid");&#13;
// }&#13;
//---------------------------//&#13;
&#13;
var utils = new Nutanix_Calm_Utils();&#13;
var reqUtils = new  Nutanix_RequestUtil();&#13;
&#13;
var mpi_uuid =  current.cat_item.blueprint_name.uuid+'';&#13;
&#13;
var response = utils.makeCalmApiCall('GET', '/calm_marketplace_items/'+mpi_uuid);&#13;
response = JSON.parse(response.getBody());&#13;
&#13;
//gs.error("MPI UUID body recieved::"+JSON.stringify(response));&#13;
var project_uuid = current.variables.default_project+'';&#13;
var environment_uuid = ' ';&#13;
var grProj = new GlideRecord('x_nuta2_nutanix_ca_nutanix_project');&#13;
grProj.addQuery('uuid', project_uuid);&#13;
grProj.query();&#13;
if(grProj.next()){&#13;
	environment_uuid = 	grProj.environment_uuid+'';&#13;
}&#13;
&#13;
var name = current.cat_item.blueprint_name.name+'';&#13;
&#13;
var app_bp_name = current.variables.default_app_name+'';&#13;
&#13;
&#13;
var tmpbody = {&#13;
		"status": response.status.resources.app_blueprint_template.status,&#13;
		"spec": response.spec.resources.app_blueprint_template.spec&#13;
	};&#13;
&#13;
&#13;
var body=&#13;
{&#13;
	"api_version": "3.0", //response.api_version,&#13;
	"metadata": {&#13;
		"kind": "blueprint",&#13;
		"project_reference": {&#13;
			"kind": "project",&#13;
			"uuid": project_uuid+''&#13;
		},&#13;
		"categories" : response.metadata.categories //changes&#13;
	},&#13;
	"spec": {&#13;
		"description":  response.spec.resources.app_blueprint_template.spec.description, //response.spec.description,&#13;
		"app_blueprint_name": app_bp_name+'',&#13;
		//"environment_uuid":environment_uuid+'', //changes&#13;
		"source_marketplace_version": response.spec.resources.version,//"1.0.0", //changes&#13;
		"source_marketplace_name":name+'',&#13;
		"resources": response.spec.resources.app_blueprint_template.spec.resources&#13;
		&#13;
		//reqUtils.makeResourceBody(tmpbody, tmpbody.status.resources, current)&#13;
		//response.spec.resources.app_blueprint_template.spec.resources&#13;
	}&#13;
	&#13;
};&#13;
&#13;
//changes&#13;
if( parseFloat(gs.getProperty('x_nuta2_nutanix_ca.calm_version')) &gt;= parseFloat("3.2") ) {&#13;
    var env_template = [{&#13;
        "app_profile": {&#13;
            "name": current.variables.default_profile + ""&#13;
        },&#13;
        "environment": {&#13;
            "uuid": current.variables.default_environment + ""&#13;
        }&#13;
    }];&#13;
    body.spec.environment_profile_pairs = env_template;&#13;
}&#13;
else {&#13;
    body.spec.environment_uuid = environment_uuid + '';&#13;
}&#13;
&#13;
//gs.error("MPI payload send: "+JSON.stringify(body));&#13;
&#13;
&#13;
var response = utils.makeCalmApiCall('POST', '/blueprints/marketplace_launch', JSON.stringify(body));&#13;
&#13;
if(response.getStatusCode() == '200' || response.getStatusCode() == '201') {&#13;
	var parseResp = JSON.parse(response.getBody());&#13;
	workflow.scratchpad.bp_uuid = parseResp.metadata.uuid;&#13;
	&#13;
	&#13;
	//gs.error("bp_uuid: "+workflow.scratchpad.bp_uuid);&#13;
	&#13;
	workflow.scratchpad.bp_name = parseResp.metadata.name;&#13;
	&#13;
	workflow.scratchpad.flag = 'success';&#13;
	&#13;
} else {		&#13;
	workflow.scratchpad.flag = 'failed';&#13;
	workflow.scratchpad.blueprint_launch_failed = response.getBody();&#13;
	logger.error("[wf_workflow] Marketplace_launch failed: "+response.getBody());&#13;
	&#13;
}&#13;
&#13;
</value>
        <variable display_value="Script">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0b</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>6725c26c97e8951027f8fbc71153af0c</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value>var logger = new Nutanix_Calm_Logger();&#13;
&#13;
/*changes for previos patching */&#13;
// workflow.scratchpad.bp_uuid =  current.cat_item.getRefRecord().cloned_bp_uuid;&#13;
// workflow.scratchpad.bp_name = current.cat_item.getRefRecord().cloned_bp_name;&#13;
// if(workflow.scratchpad.bp_uuid &amp;&amp; workflow.scratchpad.bp_name){&#13;
// 		workflow.scratchpad.flag = 'success';&#13;
// }else{&#13;
// 	workflow.scratchpad.flag = 'failed';&#13;
// 	workflow.scratchpad.blueprint_launch_failed = "Failed to get the cloned BP uuid";&#13;
//  	logger.error("[wf_workflow] Marketplace_launch failed: Failed to get the cloned BP uuid");&#13;
// }&#13;
//---------------------------//&#13;
&#13;
var utils = new Nutanix_Calm_Utils();&#13;
var reqUtils = new  Nutanix_RequestUtil();&#13;
&#13;
var mpi_uuid =  current.cat_item.blueprint_name.uuid+'';&#13;
&#13;
var response = utils.makeCalmApiCall('GET', '/calm_marketplace_items/'+mpi_uuid);&#13;
response = JSON.parse(response.getBody());&#13;
&#13;
//gs.error("MPI UUID body recieved::"+JSON.stringify(response));&#13;
var project_uuid = current.variables.default_project+'';&#13;
var environment_uuid = ' ';&#13;
var grProj = new GlideRecord('x_nuta2_nutanix_ca_nutanix_project');&#13;
grProj.addQuery('uuid', project_uuid);&#13;
grProj.query();&#13;
if(grProj.next()){&#13;
	environment_uuid = 	grProj.environment_uuid+'';&#13;
}&#13;
&#13;
var name = current.cat_item.blueprint_name.name+'';&#13;
&#13;
var app_bp_name = current.variables.default_app_name+'';&#13;
&#13;
&#13;
var tmpbody = {&#13;
		"status": response.status.resources.app_blueprint_template.status,&#13;
		"spec": response.spec.resources.app_blueprint_template.spec&#13;
	};&#13;
&#13;
&#13;
var body=&#13;
{&#13;
	"api_version": "3.0", //response.api_version,&#13;
	"metadata": {&#13;
		"kind": "blueprint",&#13;
		"project_reference": {&#13;
			"kind": "project",&#13;
			"uuid": project_uuid+''&#13;
		},&#13;
		"categories" : response.metadata.categories //changes&#13;
	},&#13;
	"spec": {&#13;
		"description":  response.spec.resources.app_blueprint_template.spec.description, //response.spec.description,&#13;
		"app_blueprint_name": app_bp_name+'',&#13;
		//"environment_uuid":environment_uuid+'', //changes&#13;
		"source_marketplace_version": response.spec.resources.version,//"1.0.0", //changes&#13;
		"source_marketplace_name":name+'',&#13;
		"resources": response.spec.resources.app_blueprint_template.spec.resources&#13;
		&#13;
		//reqUtils.makeResourceBody(tmpbody, tmpbody.status.resources, current)&#13;
		//response.spec.resources.app_blueprint_template.spec.resources&#13;
	}&#13;
	&#13;
};&#13;
&#13;
//changes&#13;
if( parseFloat(gs.getProperty('x_nuta2_nutanix_ca.calm_version')) &gt;= parseFloat("3.2") ) {&#13;
    var env_template = [{&#13;
        "app_profile": {&#13;
            "name": current.variables.default_profile + ""&#13;
        },&#13;
        "environment": {&#13;
            "uuid": current.variables.default_environment + ""&#13;
        }&#13;
    }];&#13;
    body.spec.environment_profile_pairs = env_template;&#13;
}&#13;
else {&#13;
    body.spec.environment_uuid = environment_uuid + '';&#13;
}&#13;
&#13;
//gs.error("MPI payload send: "+JSON.stringify(body));&#13;
&#13;
&#13;
var response = utils.makeCalmApiCall('POST', '/blueprints/marketplace_launch', JSON.stringify(body));&#13;
&#13;
if(response.getStatusCode() == '200' || response.getStatusCode() == '201') {&#13;
	var parseResp = JSON.parse(response.getBody());&#13;
	workflow.scratchpad.bp_uuid = parseResp.metadata.uuid;&#13;
	&#13;
	&#13;
	//gs.error("bp_uuid: "+workflow.scratchpad.bp_uuid);&#13;
	&#13;
	workflow.scratchpad.bp_name = parseResp.metadata.name;&#13;
	&#13;
	workflow.scratchpad.flag = 'success';&#13;
	&#13;
} else {		&#13;
	workflow.scratchpad.flag = 'failed';&#13;
	workflow.scratchpad.blueprint_launch_failed = response.getBody();&#13;
	logger.error("[wf_workflow] Marketplace_launch failed: "+response.getBody());&#13;
	&#13;
}&#13;
&#13;
</value>
        <variable display_value="Script">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Marketplace Launch">2f25c26c97e8951027f8fbc71153af0b</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>a325c26c97e8951027f8fbc71153af0d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Run Script">db8c65aec0a8016501d00259bc7203a4</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>8</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Update app and app runlogs</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af20</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>1217</x>
        <y>544</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=2325c26c97e8951027f8fbc71153af20"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2325c26c97e8951027f8fbc71153af20</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a325c26c97e8951027f8fbc71153af20</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>var utils = new Nutanix_Calm_Utils();&#13;
var logger = new Nutanix_Calm_Logger();&#13;
var app_uuid = workflow.scratchpad.app_uuid;&#13;
&#13;
logger.info("[wf_workflow] Application Provisioning has been completed: '"+workflow.scratchpad.app_name+"', updating app runlogs");&#13;
&#13;
var body = {&#13;
	"filter": "application_reference=="+app_uuid+";(type==action_runlog,type==audit_runlog)"&#13;
};&#13;
&#13;
var response = utils.makeCalmApiCall('POST', '/apps/' + app_uuid + '/app_runlogs/list', JSON.stringify(body));&#13;
&#13;
if(response.getStatusCode() == '200' || response.getStatusCode() == '201') {&#13;
	&#13;
	var parseResp = JSON.parse(response.getBody());&#13;
	&#13;
	for(var i = 0; i&lt;parseResp.entities.length; i++){&#13;
		utils.insertAppRunlogs(parseResp.entities[i]); // inserting app run logs into App Runlogs table&#13;
	}&#13;
	logger.info("[wf_workflow] App Runlogs updated for '"+workflow.scratchpad.app_name+"'");&#13;
	&#13;
} else {&#13;
	logger.error("[wf_workflow] Application Runlogs failed for '"+workflow.scratchpad.app_name+"' Reason: "+response.getBody());&#13;
}&#13;
&#13;
//Inserting new created apps details into [x_nuta2_nutanix_ca_nutanix_calm_application] table&#13;
var appUuidResponse = utils.makeCalmApiCall('GET', '/apps/'+app_uuid, '');&#13;
&#13;
if(appUuidResponse.getStatusCode() == '200' || appUuidResponse.getStatusCode() == '201'){&#13;
	&#13;
	utils.insertIntoQueue("processImportedApp", 'GET', current.request.requested_for, appUuidResponse.getBody(), 'Process applications', 'This job processes the imported applications.');&#13;
	&#13;
} else {&#13;
	logger.error("[wf_workflow] Error during retrieval of application '"+workflow.scratchpad.app_name+"' actions to API /apps/&lt;uuid&gt; Error : "+appUuidResponse.getBody());&#13;
}&#13;
&#13;
&#13;
&#13;
&#13;
</value>
        <variable display_value="Script">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2325c26c97e8951027f8fbc71153af20</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a325c26c97e8951027f8fbc71153af20</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>var utils = new Nutanix_Calm_Utils();&#13;
var logger = new Nutanix_Calm_Logger();&#13;
var app_uuid = workflow.scratchpad.app_uuid;&#13;
&#13;
logger.info("[wf_workflow] Application Provisioning has been completed: '"+workflow.scratchpad.app_name+"', updating app runlogs");&#13;
&#13;
var body = {&#13;
	"filter": "application_reference=="+app_uuid+";(type==action_runlog,type==audit_runlog)"&#13;
};&#13;
&#13;
var response = utils.makeCalmApiCall('POST', '/apps/' + app_uuid + '/app_runlogs/list', JSON.stringify(body));&#13;
&#13;
if(response.getStatusCode() == '200' || response.getStatusCode() == '201') {&#13;
	&#13;
	var parseResp = JSON.parse(response.getBody());&#13;
	&#13;
	for(var i = 0; i&lt;parseResp.entities.length; i++){&#13;
		utils.insertAppRunlogs(parseResp.entities[i]); // inserting app run logs into App Runlogs table&#13;
	}&#13;
	logger.info("[wf_workflow] App Runlogs updated for '"+workflow.scratchpad.app_name+"'");&#13;
	&#13;
} else {&#13;
	logger.error("[wf_workflow] Application Runlogs failed for '"+workflow.scratchpad.app_name+"' Reason: "+response.getBody());&#13;
}&#13;
&#13;
//Inserting new created apps details into [x_nuta2_nutanix_ca_nutanix_calm_application] table&#13;
var appUuidResponse = utils.makeCalmApiCall('GET', '/apps/'+app_uuid, '');&#13;
&#13;
if(appUuidResponse.getStatusCode() == '200' || appUuidResponse.getStatusCode() == '201'){&#13;
	&#13;
	utils.insertIntoQueue("processImportedApp", 'GET', current.request.requested_for, appUuidResponse.getBody(), 'Process applications', 'This job processes the imported applications.');&#13;
	&#13;
} else {&#13;
	logger.error("[wf_workflow] Error during retrieval of application '"+workflow.scratchpad.app_name+"' actions to API /apps/&lt;uuid&gt; Error : "+appUuidResponse.getBody());&#13;
}&#13;
&#13;
&#13;
&#13;
&#13;
</value>
        <variable display_value="Script">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Update app and app runlogs">2325c26c97e8951027f8fbc71153af20</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a725c26c97e8951027f8fbc71153af20</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Timer">3961a1da0a0a0b5c00ecd84822f70d85</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>17</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Wait for 60 seconds</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>2f25c26c97e8951027f8fbc71153af0d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>659</x>
        <y>271</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=2f25c26c97e8951027f8fbc71153af0d"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>1320</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af10</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value>08fcd0830a0a0b2600079f56b1adb9ae</value>
        <variable display_value="Schedule">4cc4a4030a0a0b52007334f001376dc5</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>1310</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>2725c26c97e8951027f8fbc71153af0f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value>3bf802c20a0a0b52008e2859cd8abcf2</value>
        <variable display_value="Relative duration">220cd53d0a0a0b214103bdc2ec5c7ab4</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>1350</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>2b25c26c97e8951027f8fbc71153af0e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Time zone">4cc836da0a0a0b520083ebc07da2f47c</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>1350</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>2f25c26c97e8951027f8fbc71153af10</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Time zone field">4cc740fe0a0a0b520025dcf8e2ff78e7</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>1310</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>6325c26c97e8951027f8fbc71153af0f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value>1970-01-01 00:01:00</value>
        <variable display_value="Duration">c35dc0df0a0a0ba96248a7098d737925</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>500</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>6725c26c97e8951027f8fbc71153af0e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Wait">220dc5a40a0a0b2109fbd28b8c4b6213</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>310</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>6b25c26c97e8951027f8fbc71153af10</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Timer based on">21f80cd00a0a0b2101fcd5b5defc0810</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>1360</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af0f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Percentage">292b2f0e0a0a0b215aa2dd2cbc578dc5</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>320</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>a325c26c97e8951027f8fbc71153af0e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Schedule based on">4cba34da0a0a0b5200798c86eafe1203</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>1360</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>a725c26c97e8951027f8fbc71153af10</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Time after">292c91070a0a0b212543d91ffde5014c</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>1360</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>ab25c26c97e8951027f8fbc71153af0f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Time before">292bd15e0a0a0b215a040c701033e3c5</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>3000</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>af25c26c97e8951027f8fbc71153af0e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value>// Set 'answer' to the number of seconds this timer should wait&#13;
answer = 0;</value>
        <variable display_value="Script">293493710a0a0b2115e3e5b4fce1d12a</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>1320</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>e325c26c97e8951027f8fbc71153af10</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Schedule field">4cc6788c0a0a0b5200e6743c94001b16</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>1310</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>e725c26c97e8951027f8fbc71153af0f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Field">21fd462c0a0a0b211c997276d7806c03</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>350</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>eb25c26c97e8951027f8fbc71153af0e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Time zone based on">4cbfe48a0a0a0b5200cf8b82cc6685f1</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>310</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>6b25c26c97e8951027f8fbc71153af10</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Timer based on">21f80cd00a0a0b2101fcd5b5defc0810</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>320</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>a325c26c97e8951027f8fbc71153af0e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Schedule based on">4cba34da0a0a0b5200798c86eafe1203</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>350</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>eb25c26c97e8951027f8fbc71153af0e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Time zone based on">4cbfe48a0a0a0b5200cf8b82cc6685f1</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>500</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>6725c26c97e8951027f8fbc71153af0e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Wait">220dc5a40a0a0b2109fbd28b8c4b6213</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>1310</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>2725c26c97e8951027f8fbc71153af0f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value>3bf802c20a0a0b52008e2859cd8abcf2</value>
        <variable display_value="Relative duration">220cd53d0a0a0b214103bdc2ec5c7ab4</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>1310</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>e725c26c97e8951027f8fbc71153af0f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Field">21fd462c0a0a0b211c997276d7806c03</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>1310</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>6325c26c97e8951027f8fbc71153af0f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value>1970-01-01 00:01:00</value>
        <variable display_value="Duration">c35dc0df0a0a0ba96248a7098d737925</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>1320</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>e325c26c97e8951027f8fbc71153af10</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Schedule field">4cc6788c0a0a0b5200e6743c94001b16</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>1320</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af10</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value>08fcd0830a0a0b2600079f56b1adb9ae</value>
        <variable display_value="Schedule">4cc4a4030a0a0b52007334f001376dc5</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>1350</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>2f25c26c97e8951027f8fbc71153af10</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Time zone field">4cc740fe0a0a0b520025dcf8e2ff78e7</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>1350</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>2b25c26c97e8951027f8fbc71153af0e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Time zone">4cc836da0a0a0b520083ebc07da2f47c</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>1360</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>a725c26c97e8951027f8fbc71153af10</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Time after">292c91070a0a0b212543d91ffde5014c</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>1360</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>ab25c26c97e8951027f8fbc71153af0f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Time before">292bd15e0a0a0b215a040c701033e3c5</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>1360</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af0f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value/>
        <variable display_value="Percentage">292b2f0e0a0a0b215aa2dd2cbc578dc5</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f25c26c97e8951027f8fbc71153af0d</document_key>
        <order>3000</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>af25c26c97e8951027f8fbc71153af0e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <value>// Set 'answer' to the number of seconds this timer should wait&#13;
answer = 0;</value>
        <variable display_value="Script">293493710a0a0b2115e3e5b4fce1d12a</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Wait for 60 seconds">2f25c26c97e8951027f8fbc71153af0d</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a325c26c97e8951027f8fbc71153af11</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Timer">3961a1da0a0a0b5c00ecd84822f70d85</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>20</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Wait for 60 seconds</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e725c26c97e8951027f8fbc71153af1a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>1201</x>
        <y>285</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=e725c26c97e8951027f8fbc71153af1a"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>310</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af1d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Timer based on">21f80cd00a0a0b2101fcd5b5defc0810</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>1360</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2725c26c97e8951027f8fbc71153af1c</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Percentage">292b2f0e0a0a0b215aa2dd2cbc578dc5</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>1310</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2b25c26c97e8951027f8fbc71153af1b</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>1970-01-01 00:01:00</value>
        <variable display_value="Duration">c35dc0df0a0a0ba96248a7098d737925</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>500</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2f25c26c97e8951027f8fbc71153af1a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Wait">220dc5a40a0a0b2109fbd28b8c4b6213</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>1360</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6325c26c97e8951027f8fbc71153af1c</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Time before">292bd15e0a0a0b215a040c701033e3c5</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>3000</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6725c26c97e8951027f8fbc71153af1b</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// Set 'answer' to the number of seconds this timer should wait&#13;
answer = 0;</value>
        <variable display_value="Script">293493710a0a0b2115e3e5b4fce1d12a</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>320</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6b25c26c97e8951027f8fbc71153af1a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Schedule based on">4cba34da0a0a0b5200798c86eafe1203</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>1360</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af1c</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Time after">292c91070a0a0b212543d91ffde5014c</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>350</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a325c26c97e8951027f8fbc71153af1b</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Time zone based on">4cbfe48a0a0a0b5200cf8b82cc6685f1</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>1320</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ab25c26c97e8951027f8fbc71153af1c</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Schedule field">4cc6788c0a0a0b5200e6743c94001b16</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>1310</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>af25c26c97e8951027f8fbc71153af1b</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Field">21fd462c0a0a0b211c997276d7806c03</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>1350</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e325c26c97e8951027f8fbc71153af1d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Time zone field">4cc740fe0a0a0b520025dcf8e2ff78e7</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>1320</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e725c26c97e8951027f8fbc71153af1c</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>08fcd0830a0a0b2600079f56b1adb9ae</value>
        <variable display_value="Schedule">4cc4a4030a0a0b52007334f001376dc5</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>1310</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>eb25c26c97e8951027f8fbc71153af1b</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>3bf802c20a0a0b52008e2859cd8abcf2</value>
        <variable display_value="Relative duration">220cd53d0a0a0b214103bdc2ec5c7ab4</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>1350</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ef25c26c97e8951027f8fbc71153af1a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Time zone">4cc836da0a0a0b520083ebc07da2f47c</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>310</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af1d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Timer based on">21f80cd00a0a0b2101fcd5b5defc0810</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>320</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6b25c26c97e8951027f8fbc71153af1a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Schedule based on">4cba34da0a0a0b5200798c86eafe1203</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>350</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a325c26c97e8951027f8fbc71153af1b</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Time zone based on">4cbfe48a0a0a0b5200cf8b82cc6685f1</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>500</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2f25c26c97e8951027f8fbc71153af1a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Wait">220dc5a40a0a0b2109fbd28b8c4b6213</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>1310</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>eb25c26c97e8951027f8fbc71153af1b</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>3bf802c20a0a0b52008e2859cd8abcf2</value>
        <variable display_value="Relative duration">220cd53d0a0a0b214103bdc2ec5c7ab4</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>1310</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2b25c26c97e8951027f8fbc71153af1b</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>1970-01-01 00:01:00</value>
        <variable display_value="Duration">c35dc0df0a0a0ba96248a7098d737925</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>1310</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>af25c26c97e8951027f8fbc71153af1b</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Field">21fd462c0a0a0b211c997276d7806c03</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>1320</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ab25c26c97e8951027f8fbc71153af1c</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Schedule field">4cc6788c0a0a0b5200e6743c94001b16</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>1320</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e725c26c97e8951027f8fbc71153af1c</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>08fcd0830a0a0b2600079f56b1adb9ae</value>
        <variable display_value="Schedule">4cc4a4030a0a0b52007334f001376dc5</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>1350</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e325c26c97e8951027f8fbc71153af1d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Time zone field">4cc740fe0a0a0b520025dcf8e2ff78e7</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>1350</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ef25c26c97e8951027f8fbc71153af1a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Time zone">4cc836da0a0a0b520083ebc07da2f47c</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>1360</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6325c26c97e8951027f8fbc71153af1c</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Time before">292bd15e0a0a0b215a040c701033e3c5</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>1360</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2725c26c97e8951027f8fbc71153af1c</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Percentage">292b2f0e0a0a0b215aa2dd2cbc578dc5</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>1360</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af1c</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value/>
        <variable display_value="Time after">292c91070a0a0b212543d91ffde5014c</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af1a</document_key>
        <order>3000</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6725c26c97e8951027f8fbc71153af1b</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// Set 'answer' to the number of seconds this timer should wait&#13;
answer = 0;</value>
        <variable display_value="Script">293493710a0a0b2115e3e5b4fce1d12a</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Wait for 60 seconds">e725c26c97e8951027f8fbc71153af1a</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e725c26c97e8951027f8fbc71153af1d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Wait for condition">d93a02ae0a0a0aa30077abad3fdac035</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>24</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Wait for Approval or Reject</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage display_value="Waiting for Approval">e725c26c97e8951027f8fbc71153af0a</stage>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e725c26c97e8951027f8fbc71153af34</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
        <x>22</x>
        <y>250</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=e725c26c97e8951027f8fbc71153af34"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af34</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af35</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>approval=approved^ORapproval=rejected^EQ</value>
        <variable display_value="Condition">c35dc4cd0a0a0ba96248a70990c1ac54</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af34</document_key>
        <order>2</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af34</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// Set the variable 'answer' to true or false to indicate if the condition has been met or not.&#13;
answer = true;&#13;
</value>
        <variable display_value="Condition script">c35debce0a0a0ba96248a709440cf31a</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af34</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af35</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>approval=approved^ORapproval=rejected^EQ</value>
        <variable display_value="Condition">c35dc4cd0a0a0ba96248a70990c1ac54</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e725c26c97e8951027f8fbc71153af34</document_key>
        <order>2</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af34</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <value>// Set the variable 'answer' to true or false to indicate if the condition has been met or not.&#13;
answer = true;&#13;
</value>
        <variable display_value="Condition script">c35debce0a0a0ba96248a709440cf31a</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Wait for Approval or Reject">e725c26c97e8951027f8fbc71153af34</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a725c26c97e8951027f8fbc71153af35</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
    </wf_condition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">2725c26c97e8951027f8fbc71153af1e</condition>
        <from display_value="Create Incident on application error state">af25c26c97e8951027f8fbc71153af1d</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af3d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="End">6325c26c97e8951027f8fbc71153af22</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="No">a325c26c97e8951027f8fbc71153af30</condition>
        <from display_value="Check Approval Status">a725c26c97e8951027f8fbc71153af2f</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af3e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="End">6325c26c97e8951027f8fbc71153af22</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Failed">2725c26c97e8951027f8fbc71153af32</condition>
        <from display_value="Check launched blueprint success/failed">2b25c26c97e8951027f8fbc71153af31</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af3f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Create Incident on blueprint failed">6725c26c97e8951027f8fbc71153af18</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Yes">6f25c26c97e8951027f8fbc71153af15</condition>
        <from display_value="Check pending status">6325c26c97e8951027f8fbc71153af15</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af40</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Wait for 60 seconds">2f25c26c97e8951027f8fbc71153af0d</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">af25c26c97e8951027f8fbc71153af17</condition>
        <from display_value="Mail Trigger">2f25c26c97e8951027f8fbc71153af16</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2325c26c97e8951027f8fbc71153af41</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="End">6325c26c97e8951027f8fbc71153af22</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">2325c26c97e8951027f8fbc71153af34</condition>
        <from display_value="GET  Blueprint Pending Launches Status">ab25c26c97e8951027f8fbc71153af33</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2725c26c97e8951027f8fbc71153af40</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Check pending status">6325c26c97e8951027f8fbc71153af15</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="No">af25c26c97e8951027f8fbc71153af19</condition>
        <from display_value="IF request_id from Blueprint Launched available">a325c26c97e8951027f8fbc71153af19</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2b25c26c97e8951027f8fbc71153af3d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Create Incident on blueprint failed">6725c26c97e8951027f8fbc71153af18</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="No">ab25c26c97e8951027f8fbc71153af3a</condition>
        <from display_value="Marketpalce Launch failed??">2f25c26c97e8951027f8fbc71153af39</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2b25c26c97e8951027f8fbc71153af3e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Blueprint Launch">eb25c26c97e8951027f8fbc71153af30</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">a325c26c97e8951027f8fbc71153af0d</condition>
        <from display_value="Marketplace Launch">2f25c26c97e8951027f8fbc71153af0b</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>2b25c26c97e8951027f8fbc71153af3f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Marketpalce Launch failed??">2f25c26c97e8951027f8fbc71153af39</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Yes">6f25c26c97e8951027f8fbc71153af13</condition>
        <from display_value="Check Application Pending status">6b25c26c97e8951027f8fbc71153af12</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6725c26c97e8951027f8fbc71153af3c</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Wait for 60 seconds">e725c26c97e8951027f8fbc71153af1a</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">ab25c26c97e8951027f8fbc71153af14</condition>
        <from display_value="Blueprint Launch">2725c26c97e8951027f8fbc71153af14</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6725c26c97e8951027f8fbc71153af3f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="IF request_id from Blueprint Launched available">a325c26c97e8951027f8fbc71153af19</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="No">6b25c26c97e8951027f8fbc71153af1f</condition>
        <from display_value="Check Application status running/error">eb25c26c97e8951027f8fbc71153af1e</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6b25c26c97e8951027f8fbc71153af40</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Update app and app runlogs">2325c26c97e8951027f8fbc71153af20</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">a325c26c97e8951027f8fbc71153af12</condition>
        <from display_value="Begin">6b25c26c97e8951027f8fbc71153af11</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af3c</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="">eb25c26c97e8951027f8fbc71153af36</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="No">eb25c26c97e8951027f8fbc71153af21</condition>
        <from display_value="Check bp_uuid for Blueprint Launch">6f25c26c97e8951027f8fbc71153af20</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af3e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Marketplace Launch">2f25c26c97e8951027f8fbc71153af0b</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Yes">e725c26c97e8951027f8fbc71153af1f</condition>
        <from display_value="Check Application status running/error">eb25c26c97e8951027f8fbc71153af1e</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>6f25c26c97e8951027f8fbc71153af40</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Create Incident on application error state">af25c26c97e8951027f8fbc71153af1d</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">a725c26c97e8951027f8fbc71153af35</condition>
        <from display_value="Wait for Approval or Reject">e725c26c97e8951027f8fbc71153af34</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a325c26c97e8951027f8fbc71153af3c</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Check Approval Status">a725c26c97e8951027f8fbc71153af2f</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Success">a725c26c97e8951027f8fbc71153af32</condition>
        <from display_value="Check launched blueprint success/failed">2b25c26c97e8951027f8fbc71153af31</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a325c26c97e8951027f8fbc71153af3f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Get application details">6f25c26c97e8951027f8fbc71153af32</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Yes">2325c26c97e8951027f8fbc71153af1a</condition>
        <from display_value="IF request_id from Blueprint Launched available">a325c26c97e8951027f8fbc71153af19</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a725c26c97e8951027f8fbc71153af3d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="GET  Blueprint Pending Launches Status">ab25c26c97e8951027f8fbc71153af33</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Yes">2b25c26c97e8951027f8fbc71153af3a</condition>
        <from display_value="Marketpalce Launch failed??">2f25c26c97e8951027f8fbc71153af39</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>a725c26c97e8951027f8fbc71153af3e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Create Incident on blueprint failed">6725c26c97e8951027f8fbc71153af18</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">a325c26c97e8951027f8fbc71153af11</condition>
        <from display_value="Wait for 60 seconds">2f25c26c97e8951027f8fbc71153af0d</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ab25c26c97e8951027f8fbc71153af3c</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="GET  Blueprint Pending Launches Status">ab25c26c97e8951027f8fbc71153af33</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Yes">2725c26c97e8951027f8fbc71153af30</condition>
        <from display_value="Check Approval Status">a725c26c97e8951027f8fbc71153af2f</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>af25c26c97e8951027f8fbc71153af3d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Check bp_uuid for Blueprint Launch">6f25c26c97e8951027f8fbc71153af20</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="No">ef25c26c97e8951027f8fbc71153af15</condition>
        <from display_value="Check pending status">6325c26c97e8951027f8fbc71153af15</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>af25c26c97e8951027f8fbc71153af3f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Check launched blueprint success/failed">2b25c26c97e8951027f8fbc71153af31</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">eb25c26c97e8951027f8fbc71153af18</condition>
        <from display_value="Create Incident on blueprint failed">6725c26c97e8951027f8fbc71153af18</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e325c26c97e8951027f8fbc71153af3d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="End">6325c26c97e8951027f8fbc71153af22</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">e325c26c97e8951027f8fbc71153af33</condition>
        <from display_value="Get application details">6f25c26c97e8951027f8fbc71153af32</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e325c26c97e8951027f8fbc71153af3e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Check Application Pending status">6b25c26c97e8951027f8fbc71153af12</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="No">eb25c26c97e8951027f8fbc71153af13</condition>
        <from display_value="Check Application Pending status">6b25c26c97e8951027f8fbc71153af12</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e725c26c97e8951027f8fbc71153af3c</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Check Application status running/error">eb25c26c97e8951027f8fbc71153af1e</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="No">6b25c26c97e8951027f8fbc71153af1f</condition>
        <from display_value="Check Application status running/error">eb25c26c97e8951027f8fbc71153af1e</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>e725c26c97e8951027f8fbc71153af40</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Mail Trigger">2f25c26c97e8951027f8fbc71153af16</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">6725c26c97e8951027f8fbc71153af39</condition>
        <from display_value="">eb25c26c97e8951027f8fbc71153af36</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>eb25c26c97e8951027f8fbc71153af3b</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Wait for Approval or Reject">e725c26c97e8951027f8fbc71153af34</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">6325c26c97e8951027f8fbc71153af31</condition>
        <from display_value="Blueprint Launch">eb25c26c97e8951027f8fbc71153af30</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>eb25c26c97e8951027f8fbc71153af3d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="IF request_id from Blueprint Launched available">a325c26c97e8951027f8fbc71153af19</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Yes">6b25c26c97e8951027f8fbc71153af21</condition>
        <from display_value="Check bp_uuid for Blueprint Launch">6f25c26c97e8951027f8fbc71153af20</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>eb25c26c97e8951027f8fbc71153af3e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Blueprint Launch">2725c26c97e8951027f8fbc71153af14</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">a725c26c97e8951027f8fbc71153af20</condition>
        <from display_value="Update app and app runlogs">2325c26c97e8951027f8fbc71153af20</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>eb25c26c97e8951027f8fbc71153af3f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="End">6325c26c97e8951027f8fbc71153af22</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Yes">e725c26c97e8951027f8fbc71153af1f</condition>
        <from display_value="Check Application status running/error">eb25c26c97e8951027f8fbc71153af1e</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>eb25c26c97e8951027f8fbc71153af40</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Update app and app runlogs">2325c26c97e8951027f8fbc71153af20</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">e725c26c97e8951027f8fbc71153af1d</condition>
        <from display_value="Wait for 60 seconds">e725c26c97e8951027f8fbc71153af1a</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:27</sys_created_on>
        <sys_id>ef25c26c97e8951027f8fbc71153af3b</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:27</sys_updated_on>
        <to display_value="Get application details">6f25c26c97e8951027f8fbc71153af32</to>
    </wf_transition>
    <wf_estimated_runtime_config action="INSERT_OR_UPDATE">
        <estimated_run_time/>
        <no_of_data_points>1</no_of_data_points>
        <percentage_threshold_ert>20</percentage_threshold_ert>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-04 11:24:26</sys_created_on>
        <sys_id>6725822c97e8951027f8fbc71153af20</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-04 11:24:26</sys_updated_on>
        <workflow_version display_value="Nutanix - Blueprint Launch to CALM">a325822c97e8951027f8fbc71153af20</workflow_version>
    </wf_estimated_runtime_config>
    <wf_workflow_version action="update_multiple" query="workflow=30421c83375d2300d27b8cf6c3990e01^sys_id!=a325822c97e8951027f8fbc71153af20">
        <published>false</published>
    </wf_workflow_version>
</record_update>
